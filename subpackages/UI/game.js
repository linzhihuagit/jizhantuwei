
	var global = (function () { return this })();	if (!global && typeof GameGlobal !== 'undefined') global = GameGlobal;	var pluginInfoMap = {};	;	global.requirePlugin = global.requirePlugin || function(path) {		    var position = path.indexOf('/');    		var alias = '';    		var pagePath = '';    		if (position !== -1) {    		    alias = path.substr(0, position);    		    pagePath = path.substr(position + 1, path.length);    		}    		else {    		    alias = path;    		}    		if (pluginInfoMap.hasOwnProperty(alias)) {    		    var realPath = '';    		    if (pagePath.length === 0) {    		        realPath =  '__plugin__/' + pluginInfoMap[alias].appid;    		        return require(realPath);    		    } else {    		        realPath = '__plugin__/' + pluginInfoMap[alias].appid + '/' + pagePath;    		        return require(realPath);    		    }    		}    		else {    		    console.error('not found alias: ', alias);    		    throw new Error('Plugin ' + alias + ' is not defined.')    		}	};	define("subpackages/UI/game.js", function(require, module, exports){ 			
"use strict";var t,e;System.register("chunks:///_virtual/AssetAnimCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalPool.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Vec3,u=t.Tween,l=t.tween,h=t.v3,p=t.Component},function(t){f=t.default}],execute:function(){var d,m,v,y,g,b,S;o._RF.push({},"1b7b0GL5I5Omro03OmESD9V","AssetAnimCmp",void 0);var w=r.ccclass,I=r.property,A=(t("AssetAnimCmp",(d=w("AssetAnimCmp"),m=I(a),v=I(a),d((b=e((g=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"layer",b,s(e)),n(e,"mask",S,s(e)),e._assetItem=[],e._isFinish=!1,e._finishCb=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){for(var t=0;t<20;t++){var e=f.get("assetItem");e.parent=this.layer,this._assetItem.push(new A(e))}this.mask.active=!1},o.showAnim=function(t,e,i,n){void 0===i&&(i=!1),this.mask.active=i,this._isFinish=!1,this._finishCb=n,this.node.active=!0,this.node.setPosition(t);var s=h(e);s.subtract(this.node.position);for(var o=0;o<this._assetItem.length;o++)this._assetItem[o].showAnim(s)},o.hide=function(){this.node.active=!1,this.mask.active=!1},o.animFinish=function(){this._finishCb&&this._finishCb(),this._finishCb=null,this.hide()},o.update=function(t){if(!this._isFinish){for(var e=0,i=0;i<this._assetItem.length;i++){var n=this._assetItem[i];n.update(t),n.node.active||e++}this._isFinish=e==this._assetItem.length,this._isFinish&&this.animFinish()}},e}(p)).prototype,"layer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(g.prototype,"mask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y)),t("SingleAsset",function(){function t(e){this.node=null,this.id=0,this._pos=h(),this._toPos=h(),this._isAnim=!1,this._scale=h(),this.node=e,this.node.active=!1,this.id=t._ID++}var e=t.prototype;return e.showAnim=function(t){var e=this;this._pos.set(c.ZERO),this.node.setPosition(this._pos),this._toPos.x=400*Math.random()-200,this._toPos.y=150*Math.random()+50,u.stopAllByTarget(this._pos),this._isAnim=!0,this.node.active=!0;var i=.3*Math.random()+.5,n=.3*Math.random()+.5;l(this._pos).to(i,{x:this._toPos.x}).start(),l(this._pos).to(.7*i,{y:this._toPos.y+100},{easing:"sineOut"}).to(.3*i,{y:this._toPos.y},{easing:"sineIn"}).call((function(){e._toPos.set(t),l(e._pos).to(n,{y:e._toPos.y},{easing:"sineInOut"}).start(),l(e._pos).to(n,{x:e._toPos.x}).call((function(){e._isAnim=!1,e.node.active=!1})).start()})).start(),this._scale.set(.2,.2,.2),u.stopAllByTarget(this._scale),l(this._scale).to(i,{x:1,y:1,z:1}).delay(.5*n).to(.5*n,{x:.2,y:.2,z:.2}).start()},e.update=function(t){this._isAnim&&(this.node.setPosition(this._pos),this.node.setScale(this._scale))},t}()));A._ID=0,o._RF.pop()}}})),System.register("chunks:///_virtual/AutoCheck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalTmpData.ts","./EventManager.ts","./EventTypes.ts","./SDKSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Component},function(t){o=t.GlobalTmpData},function(t){r=t.default},function(t){a=t.EventTypes},function(t){c=t.SDKSystem,u=t.PlatformType},function(t){l=t.StorageSystem},function(t){h=t.UIEnum},function(t){p=t.UISystem}],execute:function(){var f;i._RF.push({},"29860Ih1l5FuaXZCvRJV/Va","AutoCheck",void 0);var d=n.ccclass;n.property,t("AutoCheck",d("AutoCheck")(f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.onEnable=function(){var t=this;setTimeout((function(){t.autoShowUI()}),100)},n.autoShowUI=function(){this.checkPrivacyUI(),this.checkSignUI(),this.checkTurnTableUI()},n.checkPrivacyUI=function(){c._curPlatform!=u.OPPOMiniGame&&c._curPlatform!=u.VIVOMiniGame&&c._curPlatform!=u.PCMiniGame||l.getData().userSetting.showPrivacy&&p.showUI(h.PrivacyUI,{isLobby:!1})},n.checkSignUI=function(){var t=l.getData(),e=t.userAssets.signData,i=new Date(e.lastTime),n=new Date;(i.getFullYear()!=n.getFullYear()||i.getMonth()!=n.getMonth()||i.getDate()!=n.getDate())&&t.levelAssets.curLv>=1&&p.showUI(h.SignUI)},n.checkTurnTableUI=function(){o.UIData.isShowTurnTableUI&&(o.UIData.isShowTurnTableUI=!1,setTimeout((function(){switch(p.showUI(h.TurntableUI),c._curPlatform){case u.WXMiniGame:break;case u.TTMiniGame:r.emit(a.SDKEvents.ShowInsertAd)}}),100))},i}(s))||f),i._RF.pop()}}})),System.register("chunks:///_virtual/AwardProgressCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalConfig.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts","./Loader.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.UIOpacity,c=t.Sprite,u=t.Label,l=t.SpriteFrame,h=t.Component},function(t){p=t.GlobalConfig},function(t){f=t.StorageSystem},function(t){d=t.UIEnum},function(t){m=t.UISystem},function(t){v=t.default}],execute:function(){var y,g,b,S,w,I,A,C,_,T,E;o._RF.push({},"e9a4bSetrBFXrVzabbwP4vO","AwardProgressCmp",void 0);var L=r.ccclass,D=r.property;t("AwardProgressCmp",(y=L("AwardProgressCmp"),g=D(a),b=D(c),S=D(c),w=D(u),y((C=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"uiOpacity",C,s(e)),n(e,"sp",_,s(e)),n(e,"maskSp",T,s(e)),n(e,"rateLabel",E,s(e)),e.assets=null,e}i(e,t);var o=e.prototype;return o.onEnable=function(){var t=this;this.loadRes((function(){t.checkAward()}))},o.checkAward=function(){var t=f.getData().userAssets;if(t.unlockLvRec.curId<=0)this.uiOpacity.opacity=0;else{var e=t.unlockLvRec.curId,i=t.unlockLvRec.curLv+1;this.sp.spriteFrame=this.assets[e],this.maskSp.spriteFrame=this.assets[e],this.uiOpacity.opacity=255;var n=p.AwardCfg,s=i/n[e].lv;if(this.maskSp.fillRange=1-s,this.rateLabel.string=(100*s).toFixed(0),t.unlockLvRec.curLv=i,f.saveData(),i>=n[e].lv){var o=p.AwardCfg;for(var r in t.unlockLvRec.curId=-1,t.unlockLvRec.curLv=0,f.setData((function(t){return t.userAssets.displayGoods.indexOf(e)<0&&t.userAssets.displayGoods.push(e),t}),!0),o){var a=o[r];if(t.displayGoods.indexOf(a.id)<0){t.unlockLvRec.curId=a.id;break}}this.showAward(e)}}},o.showAward=function(t){var e=this;setTimeout((function(){m.showUI(d.UnlockPopUI,{sf:e.assets[t],type:t})}),200)},o.loadRes=function(t){var e=this;this.assets?t&&t():(this.assets={},v.loadBundleDir("UI","Assets/Images/ShopUI/goods",(function(i){for(var n=0;n<i.length;n++){var s=i[n];e.assets[s.name]=s}t&&t()}),l,!1))},e}(h)).prototype,"uiOpacity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"sp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(A.prototype,"maskSp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"rateLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=A))||I)),o._RF.pop()}}})),System.register("chunks:///_virtual/AwardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label},function(t){c=t.BasicUI},function(t){u=t.EventTypes},function(t){l=t.StorageSystem},function(t){h=t.UIEnum},function(t){p=t.UISystem}],execute:function(){var f,d,m,v,y;o._RF.push({},"ad730MYjaBP1KYpc1Xr9CQO","AwardUI",void 0);var g=r.ccclass,b=r.property;t("AwardUI",(f=g("AwardUI"),d=b(a),f((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).awardNum=0,n(e,"awardLabel",y,s(e)),e}i(e,t);var o=e.prototype;return o.show=function(e){t.prototype.show.call(this,e),this.setAward(e)},o.hide=function(e){t.prototype.hide.call(this,e)},o.onCloseClick=function(){var t=this;p.hideUI(h.AwardUI),l.setData((function(e){e.userAssets.asset+=Math.floor(t.awardNum)}),!0),l.updateToAssets(!0)},o.onVidoClick=function(){var t=this;this.emit(u.SDKEvents.ShowVideo,(function(){p.hideUI(h.AwardUI),l.setData((function(e){e.userAssets.asset+=Math.floor(2*t.awardNum)}),!0),l.updateToAssets(!0)}))},o.setAward=function(t){this.awardNum=t.awardNum||0,this.awardLabel.string=t.awardNum.toFixed(0)},e}(c)).prototype,"awardLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/BtnsLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEnum.ts","./EventManager.ts","./EventTypes.ts","./GlobalPool.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.UITransform,u=t.v3,l=t.Component},function(t){h=t.GlobalEnum},function(t){p=t.default},function(t){f=t.EventTypes},function(t){d=t.default}],execute:function(){var m,v,y,g,b,S,w,I,A,C,_,T,E,L,D,U,B;t("TipDirec",void 0),o._RF.push({},"5928fLUuwBNb6t6lXUai7Zf","BtnsLayer",void 0);var P,R=r.ccclass,k=r.property;t("BtnsLayer",(m=R("BtnsLayer"),v=k(a),y=k(a),g=k(a),b=k(a),S=k(a),w=k(a),I=k(a),m((_=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"createBtn",_,s(e)),n(e,"deleteBtn",T,s(e)),n(e,"resetBtn",E,s(e)),n(e,"runBtn",L,s(e)),n(e,"skipBtn",D,s(e)),n(e,"tipBtn",U,s(e)),n(e,"tipLayer",B,s(e)),e._allBtns={},e}i(e,t);var o=e.prototype;return o.onLoad=function(){this._allBtns[h.LevelBtns.CreateBtn]=new G(h.LevelBtns.CreateBtn,this.createBtn,P.Top,this.tipLayer),this._allBtns[h.LevelBtns.DeleteBtn]=new G(h.LevelBtns.DeleteBtn,this.deleteBtn,P.Top,this.tipLayer),this._allBtns[h.LevelBtns.RsetBtn]=new G(h.LevelBtns.RsetBtn,this.resetBtn,P.Right,this.tipLayer),this._allBtns[h.LevelBtns.RunBtn]=new G(h.LevelBtns.RunBtn,this.runBtn,P.Top,this.tipLayer),this._allBtns[h.LevelBtns.SkipBtn]=new G(h.LevelBtns.SkipBtn,this.skipBtn,P.Left,this.tipLayer),this._allBtns[h.LevelBtns.TipBtn]=new G(h.LevelBtns.TipBtn,this.tipBtn,P.Left,this.tipLayer),this.onEvents()},o.onEvents=function(){p.on(f.UIEvents.ShowBtnTip,this.onShowBtnTip,this),p.on(f.RailEvents.ChangeRailState,this.onChangeRailState,this),p.on(f.RailEvents.ResetRails,this.onResetTips,this)},o.onEnable=function(){this.resetBtns()},o.resetBtns=function(){for(var t in this._allBtns)this._allBtns[t].reset()},o.onShowBtnTip=function(t){this._allBtns[t]&&this._allBtns[t].showTip()},o.onResetTips=function(){this.resetBtns()},o.onChangeRailState=function(t){t==h.RailState.Running&&(this._allBtns[h.LevelBtns.CreateBtn].btn.active=!1,this._allBtns[h.LevelBtns.DeleteBtn].btn.active=!1,this._allBtns[h.LevelBtns.RsetBtn].btn.active=!1,this._allBtns[h.LevelBtns.RunBtn].btn.active=!1)},e}(l)).prototype,"createBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(C.prototype,"deleteBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(C.prototype,"resetBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"runBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"skipBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(C.prototype,"tipBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"tipLayer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=C))||A)),function(t){t[t.Top=0]="Top",t[t.Btm=1]="Btm",t[t.Left=2]="Left",t[t.Right=3]="Right"}(P||(P=t("TipDirec",{})));var G=t("BtnRec",function(){function t(t,e,i,n){this.btn=void 0,this.tip=void 0,this.tipDirec=void 0,this.parent=void 0,this.btnType=void 0,this.btnType=t,this.btn=e,this.parent=n,this.tipDirec=i,this.btn.on(a.EventType.TOUCH_END,this.onTouched,this)}var e=t.prototype;return e.reset=function(){this.btn.active=!0,this.tip&&(this.tip.active=!1)},e.showTip=function(){if(!this.tip){var t=this.btn.getComponent(c).contentSize;this.tip=d.get("fingerClick");var e=this.tip.getComponent(c).contentSize,i=u(this.btn.worldPosition),n=u();switch(this.tipDirec){case P.Top:i.y+=10+.5*(t.height+e.height);break;case P.Btm:n.z=180,i.y-=10+.5*(t.height+e.height);break;case P.Left:n.z+=90,i.x-=10+.5*(t.width+e.width);break;case P.Right:n.z-=90,i.x+=10+.5*(t.width+e.width)}this.tip.parent=this.parent,i.subtract(this.parent.worldPosition),this.tip.setPosition(i),this.tip.eulerAngles=n}this.tip&&(this.tip.active=!0)},e.onTouched=function(){this.tip&&(this.tip.active&&p.emit(f.UIEvents.OnHideBtnTip,this.btnType),this.tip.active=!1)},t}());o._RF.pop()}}})),System.register("chunks:///_virtual/CheckTimeCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalConfig.ts","./StorageSystem.ts","./Tools.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label,c=t.Node,u=t.Component},function(t){l=t.GlobalConfig},function(t){h=t.StorageSystem},function(t){p=t.default}],execute:function(){var f,d,m,v,y,g,b,S,w,I,A;o._RF.push({},"06796X51TlAw7aFZr2hbA4X","CheckTimeCmp",void 0);var C=r.ccclass,_=r.property;t("CheckTimeCmp",(f=C("CheckTimeCmp"),d=_(a),m=_(a),v=_(c),y=_(c),f((S=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"minLabel",S,s(e)),n(e,"scendLabel",w,s(e)),n(e,"timeInfo",I,s(e)),n(e,"maxTip",A,s(e)),e.lastTime=0,e.restTime=0,e.cd=l.Award.recoverTime,e.isMax=!1,e.timeData={min:"00",scend:"00"},e}i(e,t);var o=e.prototype;return o.onEnable=function(){var t=h.getData().userAssets;this.lastTime=t.lastRecoverTime;var e=Date.now()-t.lastRecoverTime,i=Math.floor(e/1e3),n=Math.floor(i/l.Award.recoverTime);this.restTime=l.Award.recoverTime-i%l.Award.recoverTime,this.addEnergy(n);var s=t.asset;this.isMax=s>=l.Award.max,this.timeInfo.active=!this.isMax,this.maxTip.active=this.isMax,this.restTime=this.isMax?l.Award.recoverTime:this.restTime},o.checkTime=function(t){this.isMax=h.getData().userAssets.asset>=l.Award.max,this.isMax?(this.restTime=l.Award.recoverTime,this.timeInfo.active=!1,this.maxTip.active=!0):(this.timeInfo.active=!0,this.maxTip.active=!1,this.restTime-=t,this.restTime<=0&&(this.addEnergy(l.Award.addStep,!0),this.restTime=l.Award.recoverTime),p.getMinByScend(this.restTime,this.timeData),this.minLabel.string=this.timeData.min,this.scendLabel.string=this.timeData.scend)},o.update=function(t){this.checkTime(t)},o.addEnergy=function(t,e){void 0===e&&(e=!0),0!=(t=t<0?0:t)&&(h.setData((function(i){var n=i.userAssets.asset+t;i.userAssets.asset=e&&n>l.Award.max?l.Award.max:n,i.userAssets.lastRecoverTime=Date.now()}),!0),h.updateToAssets(!1,!1))},e}(u)).prototype,"minLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"scendLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(b.prototype,"timeInfo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(b.prototype,"maxTip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g)),o._RF.pop()}}})),System.register("chunks:///_virtual/CustomAdUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./SDKSystem.ts","./GlobalPool.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Prefab},function(t){c=t.BasicUI},function(t){u=t.EventTypes},function(t){l=t.SDKSystem,h=t.PlatformType},function(t){p=t.default}],execute:function(){var f,d,m,v,y,g,b,S,w;t("WXCustomADType",void 0),o._RF.push({},"7cb8cTA7fBJa4B699FYTKnS","CustomAdUI",void 0);var I,A=r.ccclass,C=r.property;!function(t){t.customGrid1X1="customGrid1X1",t.customHorizon1X3="customHorizon1X3",t.customVertical1X3="customVertical1X3"}(I||(I=t("WXCustomADType",{}))),t("CustomAdUI",(f=A("CustomAdUI"),d=C(a),m=C(a),v=C(a),f((b=e((g=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"customGrid1X1",b,s(e)),n(e,"customHorizon1X3",S,s(e)),n(e,"customVertical1X3",w,s(e)),e.adRecords={},e.isInit=!1,e}i(e,t);var o=e.prototype;return o.init=function(){this.isInit||(p.createPool(I.customGrid1X1,this.customGrid1X1),p.createPool(I.customHorizon1X3,this.customHorizon1X3),p.createPool(I.customVertical1X3,this.customVertical1X3))},o.onEvents=function(){this.on(u.WXCustomAD.ShowGridAd,this.onShowGridAd,this),this.on(u.WXCustomAD.ShowHorizonAd,this.onShowHorizonAd,this),this.on(u.WXCustomAD.ShowVerticalAd,this.onShowVerticalAd,this),this.on(u.WXCustomAD.HideAdByAdId,this.onHideAdByAdId,this)},o.show=function(e){l._curPlatform==h.PCMiniGame||l._curPlatform==h.WXMiniGame?(this.init(),t.prototype.show.call(this)):console.log(" 非指定平台 ,隐藏CustomAdUI")},o.hide=function(e){t.prototype.hide.call(this,e)},o.update=function(t){},o.onShowGridAd=function(t){if(t&&this.node.activeInHierarchy){var e=uniSdk.Global.adItemDataList;if(e.length>0){var i=e[Math.floor(Math.random()*e.length)],n=p.get(I.customGrid1X1,i);n.parent=this.node,n.setPosition(t.p),t.cb&&t.cb(n.uuid),this.adRecords[n.uuid]=n}}},o.onShowHorizonAd=function(t){if(t&&this.node.activeInHierarchy){var e=uniSdk.Global.adItemDataList;if(e.length>0){var i=t.num||3,n=[];e.forEach((function(t){n.push(t)}));for(var s=[],o=0;o<i;o++){var r=Math.floor(Math.random()*n.length),a=e[r];n.splice(r,1),s.push(a)}var c=p.get(I.customHorizon1X3,s);c.parent=this.node,c.setPosition(t.p),t.cb&&t.cb(c.uuid),this.adRecords[c.uuid]=c}}},o.onShowVerticalAd=function(t){if(t&&this.node.activeInHierarchy){var e=uniSdk.Global.adItemDataList;if(e.length>0){var i=t.num||3,n=[];e.forEach((function(t){n.push(t)}));for(var s=[],o=0;o<i;o++){var r=Math.floor(Math.random()*n.length),a=e[r];n.splice(r,1),s.push(a)}var c=p.get(I.customVertical1X3,s);c.parent=this.node,c.setPosition(t.p),t.cb&&t.cb(c.uuid),this.adRecords[c.uuid]=c}}},o.onHideAdByAdId=function(t){if(this.node.activeInHierarchy)for(var e in this.adRecords){var i=this.adRecords[e];(void 0===t||t==e)&&(p.put(i),delete this.adRecords[e])}},e}(c)).prototype,"customGrid1X1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(g.prototype,"customHorizon1X3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(g.prototype,"customVertical1X3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y)),o._RF.pop()}}})),System.register("chunks:///_virtual/customGrid1X1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicComponet.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Sprite,c=t.Label,u=t.Node,l=t.SpriteFrame},function(t){h=t.BasicComponet}],execute:function(){var p,f,d,m,v,y,g;o._RF.push({},"41d12TxUrBGuJbSE9nnUtdl","customGrid1X1",void 0);var b=r.ccclass,S=r.property;t("customGrid1X1",(p=b("customGrid1X1"),f=S(a),d=S(c),p((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"sp",y,s(e)),n(e,"nameLabel",g,s(e)),e.adItemData=null,e.changeTime=10,e.curt=0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.node.on(u.EventType.TOUCH_START,this.onClick,this)},o.setData=function(t){this.adItemData=t,this.sp.spriteFrame=l.createWithImage(t.imageAsset),this.nameLabel.string=this.adItemData.title},o.onClick=function(){this.adItemData&&uniSdk.navigateToMiniProgram(this.adItemData,(function(t,e){t?console.log("导出成功",e):console.log("导出失败",e)}),this)},o.update=function(t){this.freshAd(t)},o.freshAd=function(t){if(this.curt+=t,this.curt>=this.changeTime){this.curt=0;var e=uniSdk.Global.adItemDataList,i=e[Math.floor(Math.random()*e.length)];i&&this.setData(i)}},e}(h)).prototype,"sp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(v.prototype,"nameLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/CustomList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicComponet.ts","./GlobalPool.ts","./CustomAdUI.ts"],(function(t){var e,i,n,s,o,r,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Vec3,o=t.Layout},function(t){r=t.BasicComponet},function(t){a=t.default},function(t){c=t.WXCustomADType}],execute:function(){var u;i._RF.push({},"81ccenoJEhB1JtZaU9au+S9","CustomList",void 0);var l=n.ccclass;n.property,t("CustomList",l("CustomList")(u=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.setData=function(t){a.putAllChildren(this.node);for(var e=0;e<t.length;e++){var i=a.get(c.customGrid1X1,t[e]);i.parent=this.node,i.setPosition(s.ZERO)}},n.onEnable=function(){var t=this.node.getComponent(o);t&&t.updateLayout()},n.reset=function(){a.putAllChildren(this.node)},i}(r))||u),i._RF.pop()}}})),System.register("chunks:///_virtual/CutEnergyAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.v3,u=t.UIOpacity,l=t.Tween,h=t.tween,p=t.Component},function(t){f=t.default},function(t){d=t.EventTypes}],execute:function(){var m,v,y,g,b,S,w;o._RF.push({},"9de95H9qdxEQbYz4VubNVUa","CutEnergyAnim",void 0);var I=r.ccclass,A=r.property;t("CutEnergyAnim",(m=I("CutEnergyAnim"),v=A(a),y=A(a),m((S=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"touchMask",S,s(e)),n(e,"energy",w,s(e)),e.energyOpacity=null,e.posAnim=c(),e.opAnim=c(),e}i(e,t);var o=e.prototype;return o.onLoad=function(){f.on(d.UIEvents.ShowCutEnergyAnim,this.onShowCutEnergyAnim,this)},o.onEnable=function(){this.touchMask.active=!1,this.energy.active=!1},o.update=function(t){},o.onShowCutEnergyAnim=function(t){var e=this;this.energy.active=!0,this.energyOpacity=this.energy.getComponent(u),this.posAnim.set(0,0,0),this.opAnim.set(255,0,0),this.energy.setPosition(this.posAnim),this.energyOpacity.opacity=this.opAnim.x,l.stopAllByTarget(this.posAnim),l.stopAllByTarget(this.opAnim),this.touchMask.active=!0,h(this.posAnim).to(.5,{y:150},{easing:"sineOut",onUpdate:function(){e.energy.setPosition(e.posAnim)}}).call((function(){e.touchMask.active=!1,t&&t()})).start(),h(this.opAnim).to(.5,{x:0},{onUpdate:function(){e.energyOpacity.opacity=e.opAnim.x}}).start()},e}(p)).prototype,"touchMask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"energy",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g)),o._RF.pop()}}})),System.register("chunks:///_virtual/DelayShowCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Component},function(t){c=t.default},function(t){u=t.EventTypes}],execute:function(){var l,h,p,f;o._RF.push({},"f0361tOL75N0ramGtZd2EgG","DelayShowCustom",void 0);var d=r.ccclass,m=r.property;t("DelayShowCustom",d("DelayShowCustom")((p=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"delay",p,s(e)),n(e,"customAdId",f,s(e)),e.curt=0,e.isFinish=!1,e}i(e,t);var o=e.prototype;return o.onEnable=function(){c.emit(u.SDKEvents.HideCustomAd),this.isFinish=!1,this.curt=0},o.update=function(t){this.isFinish||(this.curt+=t,this.curt>=this.delay&&(this.isFinish=!0,c.emit(u.SDKEvents.ShowCustomAd,0)))},e}(a)).prototype,"delay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=e(h.prototype,"customAdId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=h))||l),o._RF.pop()}}})),System.register("chunks:///_virtual/DelayShowInsert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts","./SDKSystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Enum,c=t.Component},function(t){u=t.default},function(t){l=t.EventTypes},function(t){h=t.PlatformType,p=t.SDKSystem}],execute:function(){var f,d,m,v,y,g;o._RF.push({},"ff426r5VxRIqIDTBVhDkGLC","DelayShowInsert",void 0);var b=r.ccclass,S=r.property;t("DelayShowInsert",(f=b("DelayShowInsert"),d=S({type:a(h)}),f((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"delay",y,s(e)),n(e,"platformType",g,s(e)),e.curt=0,e.isFinish=!1,e}i(e,t);var o=e.prototype;return o.onEnable=function(){this.isFinish=!0,p._curPlatform==this.platformType&&(this.isFinish=!1,this.curt=0)},o.update=function(t){this.isFinish||(this.curt+=t,this.curt>=this.delay&&(this.isFinish=!0,u.emit(l.SDKEvents.ShowInsertAd)))},e}(c)).prototype,"delay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=e(v.prototype,"platformType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.WXMiniGame}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/DelayShowVideoIco.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDKSystem.ts","./StorageSystem.ts"],(function(t){var e,i,n,s,o,r,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.UIOpacity,o=t.Component},function(t){r=t.SDKSystem,a=t.PlatformType},function(t){c=t.StorageSystem}],execute:function(){var u;i._RF.push({},"ee121ZWMPNBq6e+NFpS6xWU","DelayShowVideoIco",void 0);var l=n.ccclass;n.property,t("DelayShowVideoIco",l("DelayShowVideoIco")(u=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).delay=1,e.curt=0,e.isFinish=!1,e.startLv=1,e.uiOpacity=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this.uiOpacity=this.node.getComponent(s),this.uiOpacity||(this.uiOpacity=this.node.addComponent(s))},n.onEnable=function(){this.curt=0,c.getData().levelAssets.curLv>=this.startLv&&r._curPlatform==a.WXMiniGame?(this.isFinish=!1,this.uiOpacity.opacity=0):(this.isFinish=!0,this.uiOpacity.opacity=255)},n.update=function(t){this.isFinish||(this.curt+=t,this.curt>=this.delay&&(this.isFinish=!0,this.uiOpacity.opacity=255))},i}(o))||u),i._RF.pop()}}})),System.register("chunks:///_virtual/Effect2dLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEnum.ts","./GlobalTmpData.ts","./EventManager.ts","./EventTypes.ts","./GlobalPool.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Animation,u=t.Component,l=t.v3},function(t){h=t.default},function(t){p=t.GlobalEnum},function(t){f=t.GlobalTmpData},function(t){d=t.default},function(t){m=t.EventTypes},function(t){v=t.default}],execute:function(){var y,g,b,S,w;o._RF.push({},"eef6eqjQOhClYAxvIP+beNw","Effect2dLayer",void 0);var I=r.ccclass,A=r.property,C=(t("Effect2dLayer",(y=I("Effect2dLayer"),g=A(a),y((w=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).cameraUI=null,e.effectRecs={},n(e,"preEffectLayer",w,s(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.cameraUI=h.get(p.GlobalDataType.Camera3D),d.on(m.EffectEvents.show3DTo2DEffect,this.onShow2DEffect,this),d.on(m.EffectEvents.showUIEffect,this.onshowUIEffect,this)},o.onEnable=function(){this.reset()},o.reset=function(){for(var t in this.effectRecs)this.effectRecs[t].reset();this.effectRecs={},v.putAllChildren(this.node),v.putAllChildren(this.preEffectLayer)},o.update=function(t){for(var e in this.effectRecs){var i=this.effectRecs[e];i&&!i.isFinish?i.update(t):(i.reset(),delete this.effectRecs[e])}},o.onShow2DEffect=function(t){if(!f.Game.isGameOver){var e=v.get(t.t);e.parent=this.node;var i=new _;i.init(this.cameraUI,e,t.p,t.f),this.effectRecs[e.uuid]=i}},o.onshowUIEffect=function(t){if(!f.Game.isGameOver){var e=v.get(t.t);e.parent=this.preEffectLayer;var i=new T;i.init(e,t.p),this.effectRecs[e.uuid]=i}},e}(u)).prototype,"preEffectLayer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S))||b)),t("Effect2D",function(){function t(){this.isFinish=!1}var e=t.prototype;return e.init=function(){},e.reset=function(){},e.update=function(t){},t}())),_=t("EffectRec",function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).pos3d=l(),e.fromPos3d=l(),e.node=null,e.camera=null,e.anim=null,e.finishTime=0,e.curt=0,e.isFinish=!1,e.isRot=!1,e._tmpPos=l(),e._tmpPos2=l(),e}i(e,t);var n=e.prototype;return n.init=function(t,e,i,n){this.camera=t,this.pos3d.set(i),this.node=e,this.anim=this.node.getComponent(c);var s=this.anim.getState(this.anim.clips[0].name).speed||1;this.finishTime=this.anim.clips[0].duration/s,this.curt=0,this.anim.play(),this.isRot=!!n,n&&this.fromPos3d.set(n),this.setPos()},n.reset=function(){this.anim.stop(),v.put(this.node)},n.setPos=function(){if(this.camera.convertToUINode(this.pos3d,this.node.parent,this._tmpPos),this.node.setPosition(this._tmpPos),this.isRot){this.camera.convertToUINode(this.fromPos3d,this.node.parent,this._tmpPos2),this._tmpPos.subtract(this._tmpPos2);var t=57.3*Math.atan2(this._tmpPos.y,this._tmpPos.z);this._tmpPos2.set(0,0,t-90),this.node.eulerAngles=this._tmpPos2}},n.update=function(t){this.isFinish||(this.curt+=t,this.curt>=this.finishTime&&(this.isFinish=!0),this.setPos())},e}(C)),T=t("UIEffectRec",function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).node=null,e.anim=null,e.finishTime=0,e.curt=0,e.isFinish=!1,e}i(e,t);var n=e.prototype;return n.init=function(t,e){this.node=t,this.anim=this.node.getComponent(c);var i=this.anim.getState(this.anim.clips[0].name).speed||1;this.finishTime=this.anim.clips[0].duration/i,this.curt=0,this.anim.play(),this.node.setPosition(e)},n.reset=function(){this.anim.stop(),v.put(this.node)},n.update=function(t){this.isFinish||(this.curt+=t,this.curt>=this.finishTime&&(this.isFinish=!0))},e}(C));o._RF.pop()}}})),System.register("chunks:///_virtual/ExchangeBtns.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Component}],execute:function(){var c,u,l;o._RF.push({},"f00e9g/YAZHy5owfeHbz/V+","ExchangeBtns",void 0);var h=r.ccclass,p=r.property;t("ExchangeBtns",h("ExchangeBtns")((l=e((u=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"offsetX",l,s(e)),e}return i(e,t),e.prototype.onEnable=function(){Math.random()<.5?(this.node.children[0].setPosition(this.offsetX,0,0),this.node.children[1].setPosition(-this.offsetX,0,0)):(this.node.children[0].setPosition(-this.offsetX,0,0),this.node.children[1].setPosition(this.offsetX,0,0))},e}(a)).prototype,"offsetX",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 167}}),c=u))||c),o._RF.pop()}}})),System.register("chunks:///_virtual/FakeLevelAdUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.BasicUI}],execute:function(){var o;i._RF.push({},"12b1aEF4mVCEL1h0tbGJOae","FakeLevelAdUI",void 0);var r=n.ccclass;n.property,t("FakeLevelAdUI",r("FakeLevelAdUI")(o=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i}(s))||o),i._RF.pop()}}})),System.register("chunks:///_virtual/fingerClickCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Tween,o=t.tween,r=t.v3,a=t.Component}],execute:function(){var c;i._RF.push({},"f5ab0/kRBlGjaFt7i11MOKY","fingerClickCmp",void 0);var u=n.ccclass;n.property,t("fingerClickCmp",u("fingerClickCmp")(c=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).pos=r(),e}e(i,t);var n=i.prototype;return n.onEnable=function(){this.showAnim()},n.showAnim=function(){s.stopAllByTarget(this.pos),this.pos.set(0,0,0),this.node.setPosition(this.pos),o(this.pos).repeatForever(o(this.pos).to(.25,{y:50},{easing:"sineInOut"}).to(.25,{y:0},{easing:"sineInOut"}).start()).start()},n.update=function(t){this.node.setPosition(this.pos)},i}(a))||c),i._RF.pop()}}})),System.register("chunks:///_virtual/FinishAwardBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Label,u=t.clamp},function(t){l=t.BasicUI},function(t){h=t.EventTypes},function(t){p=t.StorageSystem},function(t){f=t.UIEnum},function(t){d=t.UISystem}],execute:function(){var m,v,y,g,b,S,w,I;o._RF.push({},"95061HLrtRI9Ykp9zU2YtRb","FinishAwardBoxUI",void 0);var A=r.ccclass,C=r.property;t("FinishAwardBoxUI",(m=A("FinishAwardBoxUI"),v=C(a),y=C(c),m((S=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"boxLayer",S,s(e)),n(e,"maxKeyNum",w,s(e)),n(e,"curKeyLabel",I,s(e)),e.hideCb=null,e._keyNum=0,e._awardCfg=[50,150,200,250,300,300,400,500,1e3],e._curAwards=[],e}i(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this.boxLayer.children.forEach((function(e){e.on(a.EventType.TOUCH_END,t.onBoxTouched,t)}))},o.show=function(e){var i=this;this.hideCb=e,t.prototype.show.call(this),this._curAwards=[],this._awardCfg.forEach((function(t){i._curAwards.push(t)}));for(var n=0;n<this.boxLayer.children.length;n++){var s=this.boxLayer.children[n];s.getChildByName("key").active=!0,s.getChildByName("video").active=!1,s.getChildByName("open").active=!1,s.getChildByName("close").active=!0}this._keyNum=this.maxKeyNum,this.curKeyLabel.string="x"+this._keyNum.toFixed(0)},o.hide=function(){t.prototype.hide.call(this),this.hideCb&&this.hideCb(),this.hideCb=null},o.onBoxTouched=function(t){var e=this,i=t.target;if(!i.getChildByName("open").active){i.getChildByName("video").active?this.emit(h.SDKEvents.ShowVideo,(function(){e.saveAward(),i.getChildByName("open").active=!0,i.getChildByName("close").active=!1})):(this._keyNum--,this._keyNum=u(this._keyNum,0,this.maxKeyNum),this.curKeyLabel.string="x"+this._keyNum.toFixed(0),this.saveAward(),i.getChildByName("open").active=!0,i.getChildByName("close").active=!1);for(var n=0;n<this.boxLayer.children.length;n++){var s=this.boxLayer.children[n],o=s.getChildByName("key"),r=s.getChildByName("video");s.getChildByName("open").active||(r.active=this._keyNum<=0,o.active=this._keyNum>0)}}},o.saveAward=function(){var t=.2*p.getData().levelAssets.curLv+1,e=0,i=Math.floor(Math.random()*this._curAwards.length);e=this._curAwards[i],this._curAwards.splice(i,1),e=Math.floor(t*e),p.setData((function(t){t.userAssets.asset+=e}),!0),p.updateToAssets(!0),this.emit(h.GameEvents.ShowTips,"获得"+e+"金钱")},o.onCloseClick=function(){d.hideUI(f.FinishAwardBoxUI)},e}(l)).prototype,"boxLayer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"maxKeyNum",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),I=e(b.prototype,"curKeyLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g)),o._RF.pop()}}})),System.register("chunks:///_virtual/FireWorkUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalPool.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.v3,u=t.Component,l=t.Animation},function(t){h=t.default}],execute:function(){var p,f,d,m,v,y,g;o._RF.push({},"7ce72ZDvypI0ZjDK+CbjNC4","FireWorkUI",void 0);var b=r.ccclass,S=r.property,w=(t("FireWorkUI",(p=b("FireWorkUI"),f=S(a),d=S(a),p((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"pos",y,s(e)),n(e,"layer",g,s(e)),e.itemName="Effect_IS_fireworks_001",e.recs={},e.posArr=[],e.showCd=.5,e.curt=0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){},o.onEnable=function(){var t=this;for(var e in this.recs){var i=this.recs[e];i&&i.anim&&i.anim.stop()}this.recs={},h.putAllChildren(this.layer),this.pos.children.forEach((function(e){t.posArr.push(c(e.position))})),this.curt=0},o.createItems=function(){for(var t=this,e=c(),i=Math.floor(3*Math.random())+1,n=0;n<i;n++)setTimeout((function(){if(t.node&&t.node.activeInHierarchy){var i=h.get(t.itemName);e.x=e.y=1*Math.random()+1,i.setScale(e),i.setPosition(t.posArr[Math.floor(Math.random()*t.posArr.length)]),i.parent=t.layer;var n=new w(i);t.recs[i.uuid]=n,t.showCd=.2+.5*Math.random(),t.curt=0}}),100*n)},o.update=function(t){for(var e in this.curt+=t,this.curt>=this.showCd&&(this.curt=0,this.createItems()),this.recs){var i=this.recs[e];i.isFinish?(h.put(i.node),delete this.recs[e]):i.update(t)}},e}(u)).prototype,"pos",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(v.prototype,"layer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),t("FireWorkItem",function(){function t(t){this.node=void 0,this.anim=void 0,this.curt=0,this.during=0,this.isFinish=!1,this.anim=t.getComponent(l),this.anim.stop(),this.anim.play(),this.during=this.anim.clips[0].duration}return t.prototype.update=function(t){this.curt+=t,this.curt>this.during&&(this.isFinish=!0)},t}()));o._RF.pop()}}})),System.register("chunks:///_virtual/FreeEnergyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalConfig.ts","./EventManager.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label},function(t){c=t.BasicUI},function(t){u=t.GlobalConfig},function(t){l=t.default},function(t){h=t.EventTypes},function(t){p=t.AudioEnum},function(t){f=t.AudioSystem},function(t){d=t.StorageSystem},function(t){m=t.UIEnum},function(t){v=t.UISystem}],execute:function(){var y,g,b,S,w;o._RF.push({},"b7307bMkQZIcb3jZNmGxK3R","FreeEnergyUI",void 0);var I=r.ccclass,A=r.property;t("FreeEnergyUI",(y=I("FreeEnergyUI"),g=A(a),y((w=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._awardNum=0,e.hideCb=null,n(e,"awardLabel",w,s(e)),e}i(e,t);var o=e.prototype;return o.show=function(e){this.hideCb=e,t.prototype.show.call(this);var i=d.getData().userAssets.props.GoldRateLv,n=u.RolePropCfg.getGoldRateByLv(i);this._awardNum=Math.floor(u.Award.VideoAward*n),this.awardLabel.string=this._awardNum.toFixed(0),l.emit(h.GameEvents.GamePause)},o.hide=function(e){t.prototype.hide.call(this,e),l.emit(h.GameEvents.GameResume),this.hideCb&&this.hideCb(),this.hideCb=null},o.saveAwards=function(){var t=this;d.setData((function(e){e.userAssets.asset+=t._awardNum}),!0),d.updateToAssets(!0)},o.onCloseClick=function(){f.playEffect(p.BtnClick),v.hideUI(m.FreeGoldUI)},o.onVideoClick=function(){var t=this;f.playEffect(p.BtnClick),this.emit(h.SDKEvents.ShowVideo,(function(){t.saveAwards(),v.hideUI(m.FreeGoldUI)}))},e}(c)).prototype,"awardLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S))||b)),o._RF.pop()}}})),System.register("chunks:///_virtual/GoldTipLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEnum.ts","./EventManager.ts","./EventTypes.ts","./GlobalPool.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.tween,o=t.v3,r=t.Component,a=t.Label},function(t){c=t.default},function(t){u=t.GlobalEnum},function(t){l=t.default},function(t){h=t.EventTypes},function(t){p=t.default}],execute:function(){var f;i._RF.push({},"6bcf2O/9lhEram7o5Ucb4i0","GoldTipLayer",void 0);var d=n.ccclass,m=(n.property,t("GoldTipLayer",d("GoldTipLayer")(f=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).cameraUI=null,e._tipName="goldTip",e._tipRecs={},e.tmpP=o(),e}e(i,t);var n=i.prototype;return n.onLoad=function(){p.preCreate(this._tipName,10),l.on(h.UIEvents.AddGoldEffect,this.onAddGoldEffect,this),this.cameraUI=c.get(u.GlobalDataType.Camera3D)},n.onEnable=function(){this.reset()},n.reset=function(){p.putAllChildren(this.node),this._tipRecs={}},n.update=function(t){for(var e in this._tipRecs){var i=this._tipRecs[e];!i||i.isFinish?(i.node&&p.put(i.node),delete this._tipRecs[e]):i.update(t)}},n.onAddGoldEffect=function(t){var e=Math.round(t.gold)||0;this.cameraUI.convertToUINode(t.wpos,this.node,this.tmpP),this.tmpP.y+=100;var i=p.get(this._tipName);i.parent=this.node;var n=new m(i,this.tmpP,e);this._tipRecs[n.id]=n},i}(r))||f),t("GoldTipCmp",function(){function t(e,i,n){this.id=0,this.node=void 0,this.p=o(),this.isFinish=!1,this.node=e,e.getComponentInChildren(a).string=n.toFixed(0),this.id=t._ID++,this.p.set(i),this.showAnim()}var e=t.prototype;return e.showAnim=function(){var t=this;this.node.setPosition(this.p),s(this.p).by(.8,{y:200},{easing:"sineOut"}).call((function(){t.isFinish=!0})).start()},e.update=function(t){this.node.setPosition(this.p)},t}()));m._ID=0,i._RF.pop()}}})),System.register("chunks:///_virtual/GuideFingerAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.tween,o=t.v3,r=t.Component}],execute:function(){var a;i._RF.push({},"eec43f5GRxKeIEJ40QmLrui","GuideFingerAnim",void 0);var c=n.ccclass;n.property,t("GuideFingerAnim",c("GuideFingerAnim")(a=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).pos=o(),e}e(i,t);var n=i.prototype;return n.start=function(){this.pos.set(this.node.position),this.playAnim()},n.playAnim=function(){s(this.pos).repeatForever(s(this.pos).to(.5,{x:200},{easing:"sineInOut"}).to(.5,{x:-200},{easing:"sineInOut"}).start()).start()},n.update=function(t){this.node.setPosition(this.pos)},i}(r))||a),i._RF.pop()}}})),System.register("chunks:///_virtual/HomeFingerAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Tween,o=t.tween,r=t.v3,a=t.Component}],execute:function(){var c;i._RF.push({},"3e10a1lnGhEuYEcnsbp1PXD","HomeFingerAnim",void 0);var u=n.ccclass;n.property,t("HomeFingerAnim",u("HomeFingerAnim")(c=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).pos=r(),e}e(i,t);var n=i.prototype;return n.onEnable=function(){s.stopAllByTarget(this.pos),this.pos.set(0,-50),this.node.children[0].setPosition(this.pos),o(this.pos).repeatForever(o(this.pos).to(.3,{y:0},{easing:"sineIn"}).to(.3,{y:-50},{easing:"sineOut"}).start()).start()},n.update=function(t){this.node.children[0].setPosition(this.pos)},i}(a))||c),i._RF.pop()}}})),System.register("chunks:///_virtual/HomeLoadBg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageSystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Component},function(t){u=t.StorageSystem}],execute:function(){var l,h,p,f,d;o._RF.push({},"4b2188WsOpGX4VUYilsYk1m","HomeLoadBg",void 0);var m=r.ccclass,v=r.property;t("HomeLoadBg",(l=m("HomeLoadBg"),h=v(a),l((d=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"title",d,s(e)),e}return i(e,t),e.prototype.onEnable=function(){this.title.active=1==u.getData().levelAssets.curLv},e}(c)).prototype,"title",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p)),o._RF.pop()}}})),System.register("chunks:///_virtual/HomeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./SDKSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.UIOpacity,u=t.Label,l=t.tween},function(t){h=t.BasicUI},function(t){p=t.EventTypes},function(t){f=t.AudioEnum},function(t){d=t.AudioSystem},function(t){m=t.SDKSystem,v=t.PlatformType},function(t){y=t.StorageSystem},function(t){g=t.UIEnum},function(t){b=t.UISystem}],execute:function(){var S,w,I,A,C,_,T,E,L,D,U,B,P,R,k;o._RF.push({},"15c100s/PdETZRmwa9nbZ9h","HomeUI",void 0);var G=r.ccclass,F=r.property;t("HomeUI",(S=G("HomeUI"),w=F(a),I=F(a),A=F(a),C=F(a),_=F(c),T=F(u),S((D=e((L=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"panel",D,s(e)),n(e,"touchMask",U,s(e)),n(e,"privacyBtn",B,s(e)),n(e,"finger",P,s(e)),e.isLoadLvFinish=!1,e.isEnterGame=!1,n(e,"bgOpacity",R,s(e)),n(e,"lvLabel",k,s(e)),e}i(e,t);var o=e.prototype;return o.onEvents=function(){this.on(p.TouchEvents.TouchStart,this.onGameStartClick,this),this.on(p.GameEvents.EnterChooseLv,this.onEnterChooseLv,this),this.on(p.UIEvents.PrivacyConfirm,this.onPrivacyConfirm,this)},o.show=function(e){t.prototype.show.call(this,e),this.isEnterGame=!1,this.isLoadLvFinish=!1,this.touchMask.active=!1,this.panel.active=!0,this.finger.active=!1,this.bgOpacity.opacity=255,b.showUI(g.PlayerAssetsUI),this.setLvNum(),this.privacyBtn.active=!1,m._curPlatform!=v.OPPOMiniGame&&m._curPlatform!=v.VIVOMiniGame&&m._curPlatform!=v.PCMiniGame||(this.privacyBtn.active=!0),this.showLvScene(),d.playBGM(f.homeBgm)},o.enterGame=function(){this.isEnterGame||(this.isEnterGame=!0,this.panel.active=!1,this.touchMask.active=!0,this.emit(p.GameEvents.GameRun),this.emit(p.GuideEvents.ShowGuideAnim),this.emit(p.TouchEvents.SetTouchEnable,!0),this.emit(p.GameEvents.GameResume),b.hideUI(g.HomeUI),d.playBGM(f.lvBgm))},o.showLvScene=function(t){var e=this;this.emit(p.GameEvents.GameStart,(function(){setTimeout((function(){e.emit(p.GameEvents.GameLoadFinish),e.onGameLoadFinish(),t&&t()}),0)}))},o.hideBg=function(t){var e=this;if(this.bgOpacity){var i={a:255};this.bgOpacity.opacity=i.a,l(i).to(.2,{a:0},{onUpdate:function(){e.bgOpacity.opacity=i.a}}).call((function(){t&&t()})).start()}else t&&t()},o.setLvNum=function(){if(this.lvLabel){var t=y.getData().levelAssets.curLv;this.lvLabel.string=t.toFixed(0)}},o.onGameStartClick=function(){this.enterGame()},o.onShowTurntableUI=function(){d.playEffect(f.BtnClick),b.showUI(g.TurntableUI)},o.onShowSignUI=function(){d.playEffect(f.BtnClick),b.showUI(g.SignUI)},o.onShowSettingUI=function(){d.playEffect(f.BtnClick),b.showUI(g.SettingUI)},o.onShowPrivacyUI=function(){b.showUI(g.PrivacyUI,{isLobby:!0})},o.onShowShopUI=function(){var t=this;d.playEffect(f.BtnClick),this.panel.active=!1,b.showUI(g.ShopUI,{hideCb:function(){t.panel.active=!0}})},o.onPrivacyConfirm=function(){},o.onEnterChooseLv=function(t){y.setData((function(e){e.levelAssets.curLv=t})),this.enterGame()},o.onShowLevelScene=function(t){t&&y.setData((function(e){e.levelAssets.curLv=t})),this.showLvScene()},o.onGameLoadFinish=function(){this.isLoadLvFinish=!0,this.finger.active=!0,b.showUI(g.LevelController),b.showUI(g.LevelInfoUI),this.hideBg((function(){}))},e}(h)).prototype,"panel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(L.prototype,"touchMask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"privacyBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"finger",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(L.prototype,"bgOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(L.prototype,"lvLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=L))||E)),o._RF.pop()}}})),System.register("chunks:///_virtual/JoyCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.v3,u=t.UIOpacity,l=t.Vec3,h=t.Component},function(t){p=t.default},function(t){f=t.EventTypes}],execute:function(){var d,m,v,y,g;o._RF.push({},"b6961k+iJdMNJNpOMOoWvcH","JoyCmp",void 0);var b=r.ccclass,S=r.property;t("JoyCmp",(d=b("JoyCmp"),m=S(a),d((g=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"bar",g,s(e)),e.uiOpacity=null,e._startPos=c(),e._tmpPos=c(),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.uiOpacity=this.node.getComponent(u),p.on(f.TouchEvents.TouchStart,this.onTouchStart,this),p.on(f.TouchEvents.TouchMove,this.onTouchMove,this),p.on(f.TouchEvents.TouchEnd,this.onTouchEnd,this),p.on(f.GameEvents.GameOver,this.onGameOver,this)},o.onTouchStart=function(t){this._tmpPos.set(t.x,t.y),this._startPos.set(t.x,t.y),this.node.setPosition(this._tmpPos),this.uiOpacity.opacity=255,this.bar.setPosition(l.ZERO)},o.onTouchMove=function(t,e){this._tmpPos.set(e.x-this._startPos.x,e.y-this._startPos.y);var i=this._tmpPos.length();i=i>75?75:i,this._tmpPos.normalize().multiplyScalar(i),this.bar.setPosition(this._tmpPos)},o.onTouchEnd=function(t,e){this.uiOpacity.opacity=0},o.onGameOver=function(){this.uiOpacity.opacity=0},e}(h)).prototype,"bar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)),o._RF.pop()}}})),System.register("chunks:///_virtual/LevelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalData.ts","./GlobalEnum.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Node,o=t.UITransform,r=t.size,a=t.v2},function(t){c=t.BasicUI},function(t){u=t.default},function(t){l=t.GlobalEnum},function(t){h=t.EventTypes}],execute:function(){var p;i._RF.push({},"eee755gByVGpJW6y/Wj8a69","LevelController",void 0);var f=n.ccclass;n.property,t("LevelController",f("LevelController")(p=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).isEnableTouch=!0,e._halfCvsSize=r(),e._tmpV1=a(),e._tmpV2=a(),e}e(i,t);var n=i.prototype;return n.onLoad=function(){this.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},n.onEvents=function(){this.on(h.TouchEvents.SetTouchEnable,this.onSetTouchState,this)},n.show=function(e){t.prototype.show.call(this,e),this.reset();var i=u.get(l.GlobalDataType.Canvas);this._halfCvsSize.set(i.getComponent(o).contentSize),this._halfCvsSize.width*=.5,this._halfCvsSize.height*=.5},n.reset=function(){this.isEnableTouch=!0},n.onSetTouchState=function(t){void 0===t&&(t=!0),this.isEnableTouch=t,console.log(t?"开启":"关闭","触摸")},n.onTouchStart=function(t){this.isEnableTouch&&(t.getUILocation(this._tmpV1),this._tmpV1.x-=this._halfCvsSize.width,this._tmpV1.y-=this._halfCvsSize.height,this.emit(h.TouchEvents.TouchStart,this._tmpV1),this.emit(h.TouchEvents.TouchStartObj,t))},n.onTouchMove=function(t){this.isEnableTouch&&(t.getPreviousLocation(this._tmpV1),t.getUILocation(this._tmpV2),this._tmpV1.x-=this._halfCvsSize.width,this._tmpV1.y-=this._halfCvsSize.height,this._tmpV2.x-=this._halfCvsSize.width,this._tmpV2.y-=this._halfCvsSize.height,this.emit(h.TouchEvents.TouchMove,this._tmpV1,this._tmpV2),this.emit(h.TouchEvents.TouchMoveObj,t))},n.onTouchEnd=function(t){this.isEnableTouch&&(t.getStartLocation(this._tmpV1),t.getUILocation(this._tmpV2),this._tmpV1.x-=this._halfCvsSize.width,this._tmpV1.y-=this._halfCvsSize.height,this._tmpV2.x-=this._halfCvsSize.width,this._tmpV2.y-=this._halfCvsSize.height,this.emit(h.TouchEvents.TouchEnd,this._tmpV1,this._tmpV2),this.emit(h.TouchEvents.TouchEndObj,t))},i}(c))||p),i._RF.pop()}}})),System.register("chunks:///_virtual/LevelInfoUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalEnum.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label,c=t.Node},function(t){u=t.BasicUI},function(t){l=t.GlobalEnum},function(t){h=t.EventTypes},function(t){p=t.StorageSystem},function(t){f=t.UIEnum},function(t){d=t.UISystem}],execute:function(){var m,v,y,g,b,S,w,I,A;o._RF.push({},"4a980r4nRlPIr+mv3M/nP7C","LevelInfoUI",void 0);var C=r.ccclass,_=r.property;t("LevelInfoUI",(m=C("LevelInfoUI"),v=_(a),y=_(c),g=_(a),m((w=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"lvLabel",w,s(e)),n(e,"lvInfo",I,s(e)),e._timeScale=1,n(e,"enemyLabel",A,s(e)),e}i(e,t);var o=e.prototype;return o.onEvents=function(){this.on(h.GameEvents.GameRun,this.onGameRun,this)},o.show=function(e){t.prototype.show.call(this,e),this.setLvInfo(),this._timeScale=1,this.lvInfo.active=!1},o.update=function(t){},o.setLvInfo=function(){this.lvLabel.string=p.getData().levelAssets.curLv+""},o.onGameRun=function(){this.lvInfo.active=!0},o.onAddRoles=function(){this.emit(h.RoleEvents.AddRoles,l.IncreaseType.symbol_Add,1)},o.onReduceRoles=function(){this.emit(h.RoleEvents.AddRoles,l.IncreaseType.symbol_Reduce,1)},o.onSpdUpClick=function(){this._timeScale+=.5,this.emit(h.GameEvents.SetGameTimeScale,this._timeScale)},o.onSpdCutClick=function(){this._timeScale-=.5,this._timeScale=this._timeScale<0?0:this._timeScale,this.emit(h.GameEvents.SetGameTimeScale,this._timeScale)},o.testWin=function(){this.emit(h.GameEvents.GameOver,!0)},o.testLose=function(){this.emit(h.GameEvents.GameOver,!1)},o.testPause=function(){this.emit(h.GameEvents.GamePause)},o.testResume=function(){this.emit(h.GameEvents.GameResume)},o.testBackHome=function(){d.hideUI(f.LevelInfoUI),this.emit(h.GameEvents.SetLevelManagerEnable,!1),d.showUI(f.HomeUI)},e}(u)).prototype,"lvLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"lvInfo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"enemyLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S))||b)),o._RF.pop()}}})),System.register("chunks:///_virtual/LoopScaleAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.v3,c=t.Tween,u=t.tween,l=t.Component}],execute:function(){var h,p,f,d;o._RF.push({},"72dfdGwdN5G/6iZnwfmEXAA","LoopScaleAnim",void 0);var m=r.ccclass,v=r.property;t("LoopScaleAnim",m("LoopScaleAnim")((f=e((p=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"loopTime",f,s(e)),n(e,"stepScale",d,s(e)),e.scaleAnim=a(),e}i(e,t);var o=e.prototype;return o.start=function(){this.show()},o.show=function(){c.stopAllByTarget(this.scaleAnim),this.scaleAnim.set(1,1,1),this.node.setScale(this.scaleAnim),u(this.scaleAnim).repeatForever(u(this.scaleAnim).to(this.loopTime/2,{x:1+this.stepScale,y:1+this.stepScale},{easing:"sineInOut"}).to(this.loopTime/2,{x:1,y:1},{easing:"sineInOut"})).start()},o.update=function(t){this.node.setScale(this.scaleAnim)},e}(l)).prototype,"loopTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),d=e(p.prototype,"stepScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),h=p))||h),o._RF.pop()}}})),System.register("chunks:///_virtual/LoseUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalConfig.ts","./EventManager.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./SDKSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts","./MoveVideoCmp.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node},function(t){c=t.BasicUI},function(t){u=t.GlobalConfig},function(t){l=t.default},function(t){h=t.EventTypes},function(t){p=t.AudioEnum},function(t){f=t.AudioSystem},function(t){d=t.SDKSystem,m=t.PlatformType},function(t){v=t.StorageSystem},function(t){y=t.UIEnum},function(t){g=t.UISystem},function(t){b=t.MoveVideoCmp}],execute:function(){var S,w,I,A,C,_,T;o._RF.push({},"bfc45m889tIn6keYkQgvSD5","LoseUI",void 0);var E=r.ccclass,L=r.property;t("LoseUI",(S=E("LoseUI"),w=L(b),I=L(a),S((_=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"moveVideoCmp",_,s(e)),e._awardNum=0,n(e,"shareBtn",T,s(e)),e}i(e,t);var o=e.prototype;return o.show=function(e){t.prototype.show.call(this,e),g.hideUI(y.LevelInfoUI),g.showUI(y.PlayerAssetsUI),f.playEffect(p.Lose),this.shareBtn&&(this.shareBtn.active=d._curPlatform==m.TTMiniGame),this.showAwards(),this.showAd()},o.showAwards=function(){var t=v.getData().userAssets.props.GoldRateLv,e=u.RolePropCfg.getGoldRateByLv(t);this._awardNum=Math.floor(u.Award.LoseAward*e),this.moveVideoCmp.setData(this._awardNum)},o.saveAwards=function(){var t=this;this._awardNum>0&&(v.setData((function(e){e.userAssets.asset+=t._awardNum}),!0),v.updateToAssets(!0,!0)),g.hideUI(y.LoseUI),this.emit(h.GameEvents.SetLevelManagerEnable,!1),g.showUI(y.HomeUI)},o.onVideoClick=function(){var t=this;this.moveVideoCmp.stopMove(),this.emit(h.SDKEvents.ShowVideo,{success:function(){t._awardNum*=t.moveVideoCmp.curAwardRate,t.onCloseClick()},fail:function(){t.moveVideoCmp.resumeMove()},cancel:function(){t.moveVideoCmp.resumeMove()}})},o.onCloseClick=function(){this.saveAwards()},o.onShareClick=function(){var t=this;l.emit(h.SDKEvents.ShareRecord,(function(){t.shareBtn.active=!1}))},o.showAd=function(){},e}(c)).prototype,"moveVideoCmp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(C.prototype,"shareBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=C))||A)),o._RF.pop()}}})),System.register("chunks:///_virtual/LvupPropCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalConfig.ts","./GlobalEnum.ts","./EventManager.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./SDKSystem.ts","./StorageSystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Enum,c=t.Label,u=t.UIOpacity,l=t.Component},function(t){h=t.GlobalConfig},function(t){p=t.GlobalEnum},function(t){f=t.default},function(t){d=t.EventTypes},function(t){m=t.AudioEnum},function(t){v=t.AudioSystem},function(t){y=t.SDKSystem,g=t.PlatformType},function(t){b=t.StorageSystem}],execute:function(){var S,w,I,A,C,_,T,E,L;t("LvupPropType",void 0),o._RF.push({},"9fec2GLM/NGu5p/U23Z+jNx","LvupPropCmp",void 0);var D,U=r.ccclass,B=r.property;!function(t){t[t.RoleNum=0]="RoleNum",t[t.GoldRate=1]="GoldRate",t[t.Gaint=2]="Gaint"}(D||(D=t("LvupPropType",{}))),t("lvupPropCmp",(S=U("lvupPropCmp"),w=B({type:a(D)}),I=B(c),A=B(c),S((T=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"propType",T,s(e)),n(e,"propLabel",E,s(e)),n(e,"costLabel",L,s(e)),e.addNum=0,e.propNum=0,e.costNum=0,e._isVideo=!1,e._isHideVideoIco=!1,e._opacityCmp=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this._opacityCmp=this.node.getComponent(u),this._opacityCmp||(this._opacityCmp=this.node.addComponent(u),this._opacityCmp.opacity=255),f.on(d.GameEvents.UserAssetsChanged,this.freshData,this)},o.onEnable=function(){this._opacityCmp.opacity=255,this.setData()},o.setData=function(){var t=h.RolePropCfg,e=b.getData(),i=!1;switch(this.propType){case D.RoleNum:this.propNum=t.getRoleNumByLv(e.userAssets.props.RoleNumLv),this.costNum=t.getRoleNumCostByLv(e.userAssets.props.RoleNumLv),this.propLabel.string=this.propNum.toFixed(0),this.costLabel.string=this.costNum.toFixed(0),e.userAssets.props.RoleNumLv>=t.goldRate.maxLv&&(i=!0);break;case D.GoldRate:this.propNum=e.userAssets.props.GoldRateLv,this.costNum=t.getGoldRateCostByLv(e.userAssets.props.GoldRateLv),this.propLabel.string=this.propNum.toFixed(0),this.costLabel.string=this.costNum.toFixed(0),e.userAssets.props.GoldRateLv>=t.goldRate.maxLv&&(i=!0);break;case D.Gaint:this.propNum=e.userAssets.props.GiantLv,this.costNum=t.getBossCostByLv(e.userAssets.props.GiantLv),e.userAssets.props.GiantLv>=t.bossInfo.maxLv&&(i=!0),this.propLabel.string=this.propNum.toFixed(0),this.costLabel.string=this.costNum.toFixed(0)}this._isVideo=this.costNum>e.userAssets.asset;var n=this.node.getChildByName("gold"),s=this.node.getChildByName("videoIco");n.active=!i&&!this._isVideo,s.active=this._isVideo},o.onClick=function(){var t=this,e=h.RolePropCfg,i=b.getData();switch(this.propType){case D.RoleNum:if(this.propNum>=e.roleNum.maxLv)return void f.emit(d.GameEvents.ShowTips,"已达最大等级!");i.userAssets.asset<this.costNum?this.randomPop(this.propType,(function(){b.setData((function(t){t.userAssets.props.RoleNumLv++}),!0),f.emit(d.RoleEvents.AddRoles,p.IncreaseType.symbol_Add,1),t.freshData(),v.playEffect(m.lvupProp)})):(b.setData((function(e){e.userAssets.props.RoleNumLv++,e.userAssets.asset-=t.costNum}),!0),b.updateToAssets(),v.playEffect(m.lvupProp),f.emit(d.RoleEvents.AddRoles,p.IncreaseType.symbol_Add,1));break;case D.GoldRate:if(this.propNum>=e.goldRate.maxLv)return void f.emit(d.GameEvents.ShowTips,"已达最大等级!");i.userAssets.asset<this.costNum?this.randomPop(this.propType,(function(){b.setData((function(t){t.userAssets.props.GoldRateLv++}),!0),t.freshData(),v.playEffect(m.lvupProp)})):(b.setData((function(e){e.userAssets.props.GoldRateLv++,e.userAssets.asset-=t.costNum}),!0),b.updateToAssets(),v.playEffect(m.lvupProp));break;case D.Gaint:if(this.propNum>=e.bossInfo.maxLv)return void f.emit(d.GameEvents.ShowTips,"已达最大等级!");i.userAssets.asset<this.costNum?this.randomPop(this.propType,(function(){b.setData((function(t){t.userAssets.props.GiantLv++}),!0),v.playEffect(m.lvupProp),f.emit(d.RoleEvents.LvupGaint),t.freshData()})):(b.setData((function(e){e.userAssets.props.GiantLv++,e.userAssets.asset-=t.costNum}),!0),b.updateToAssets(),v.playEffect(m.lvupProp),f.emit(d.RoleEvents.LvupGaint))}},o.freshData=function(){this.node.activeInHierarchy&&this.setData()},o.randomPop=function(t,e){switch(y._curPlatform){case g.PCMiniGame:case g.WXMiniGame:this.WxPop(t,e);break;case g.TTMiniGame:this.TTPop(t,e)}},o.TTPop=function(t,e){var i=this;this._isHideVideoIco=!1,f.emit(d.SDKEvents.ShowVideo,{success:function(){e&&e()},fail:function(){i._isHideVideoIco=!1,i.setData()},cancel:function(){i._isHideVideoIco=!1,i.setData()}})},o.WxPop=function(t,e){var i=this;this._isHideVideoIco=!1,f.emit(d.SDKEvents.ShowVideo,{success:function(){e&&e()},fail:function(){i._isHideVideoIco=!1,i.setData()},cancel:function(){i._isHideVideoIco=!1,i.setData()}},2)},e}(l)).prototype,"propType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.RoleNum}}),E=e(_.prototype,"propLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(_.prototype,"costLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C)),o._RF.pop()}}})),System.register("chunks:///_virtual/ModelGrid1x1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Widget,o=t.Component},function(t){r=t.default},function(t){a=t.EventTypes}],execute:function(){var c;i._RF.push({},"5e318q15YRIfIR5hiM5Oirw","ModelGrid1x1",void 0);var u=n.ccclass;n.property,t("ModelGrid1x1",u("ModelGrid1x1")(c=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._adId=null,e}e(i,t);var n=i.prototype;return n.onEnable=function(){var t=this,e=this.node.getComponent(s);e&&e.updateAlignment(),r.emit(a.WXCustomAD.ShowGridAd,{p:this.node.position,cb:function(e){t._adId=e}})},n.onDisable=function(){r.emit(a.WXCustomAD.HideAdByAdId,this._adId)},i}(o))||c),i._RF.pop()}}})),System.register("chunks:///_virtual/ModelHorizon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Widget,c=t.Component},function(t){u=t.default},function(t){l=t.EventTypes}],execute:function(){var h,p,f;o._RF.push({},"99f73YCSTlM6oSp80wkuHKY","ModelHorizon",void 0);var d=r.ccclass,m=r.property;t("ModelHorizon",d("ModelHorizon")((f=e((p=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._adId=null,n(e,"adNum",f,s(e)),e}i(e,t);var o=e.prototype;return o.onEnable=function(){var t=this,e=this.node.getComponent(a);e&&e.updateAlignment(),u.emit(l.WXCustomAD.ShowHorizonAd,{p:this.node.position,num:this.adNum,cb:function(e){t._adId=e}})},o.onDisable=function(){u.emit(l.WXCustomAD.HideAdByAdId,this._adId)},e}(c)).prototype,"adNum",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=p))||h),o._RF.pop()}}})),System.register("chunks:///_virtual/ModelVertical.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Widget,c=t.Component},function(t){u=t.default},function(t){l=t.EventTypes}],execute:function(){var h,p,f;o._RF.push({},"9a5fcSfm19LI6NkAoqXSNQD","ModelVertical",void 0);var d=r.ccclass,m=r.property;t("ModelVertical1X3",d("ModelVertical1X3")((f=e((p=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._adId=null,n(e,"adNum",f,s(e)),e}i(e,t);var o=e.prototype;return o.onEnable=function(){var t=this,e=this.node.getComponent(a);e&&e.updateAlignment(),u.emit(l.WXCustomAD.ShowVerticalAd,{p:this.node.position,num:this.adNum,cb:function(e){t._adId=e}})},o.onDisable=function(){u.emit(l.WXCustomAD.HideAdByAdId,this._adId)},e}(c)).prototype,"adNum",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),h=p))||h),o._RF.pop()}}})),System.register("chunks:///_virtual/MoveVideoCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Label,u=t.v3,l=t.Component}],execute:function(){var h,p,f,d,m,v,y,g,b;o._RF.push({},"36483T/6iZPZqdjvUOmJILx","MoveVideoCmp",void 0);var S=r.ccclass,w=r.property;t("MoveVideoCmp",(h=S("MoveVideoCmp"),p=w(a),f=w(a),d=w(c),h((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"layer",y,s(e)),n(e,"bar",g,s(e)),n(e,"awardLabel",b,s(e)),e.lvXArr=[],e.lvRates=[2,3,4,5],e.isMove=!1,e.maxX=0,e.moveSpdX=0,e.moveDirec=1,e.curAwardRate=1,e.initAward=0,e.curPos=u(),e}i(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this.layer.children.forEach((function(e){t.lvXArr.push(e.position.x)})),this.maxX=this.lvXArr[this.lvXArr.length-1],this.moveSpdX=1*this.maxX},o.reset=function(){this.curPos.set(this.maxX/2),this.bar.setPosition(this.curPos),this.curAwardRate=3,this.moveDirec=1},o.setData=function(t){this.isMove=!0,this.initAward=t},o.update=function(t){if(this.isMove){var e=this.moveSpdX*t*this.moveDirec,i=e+this.curPos.x;(i>this.maxX||i<0)&&(this.moveDirec*=-1,i=(e=this.moveSpdX*t*this.moveDirec)+this.curPos.x);for(var n=this.lvXArr.length-1,s=n-1;s>=0;s--,n--)if(i<this.lvXArr[n]&&i>=this.lvXArr[s]){this.curAwardRate=this.lvRates[s];break}this.curPos.x=i,this.curPos.y=-30,this.bar.setPosition(this.curPos);var o=Math.floor(this.curAwardRate*this.initAward);this.awardLabel.string=o.toFixed(0)}},o.stopMove=function(){this.isMove=!1},o.resumeMove=function(){this.isMove=!0},e}(l)).prototype,"layer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(v.prototype,"bar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(v.prototype,"awardLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/OnlineAwardCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalConfig.ts","./AudioEnum.ts","./AudioSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label,c=t.Component},function(t){u=t.GlobalConfig},function(t){l=t.AudioEnum},function(t){h=t.AudioSystem},function(t){p=t.StorageSystem},function(t){f=t.UIEnum},function(t){d=t.UISystem}],execute:function(){var m,v,y,g,b;o._RF.push({},"cade5H2Sz1Gp5KY2ZjWTIxf","OnlineAwardCmp",void 0);var S=r.ccclass,w=r.property;t("OnlineAwardCmp",(m=S("OnlineAwardCmp"),v=w(a),m((b=e((g=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"onLineAward",b,s(e)),e._award=0,e._cd=1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.onLineAward.string=this._award.toFixed(0),this.schedule(this.setAward,this._cd)},o.setAward=function(){var t=p.getData().userAssets.props.GoldRateLv,e=u.RolePropCfg.getGoldRateByLv(t);this._award+=Math.floor(e*u.Award.OnlineAwardMin/60),this.onLineAward.string=this._award.toFixed(0)},o.onShowOnLineAwardUI=function(){h.playEffect(l.BtnClick),d.showUI(f.OnlineAwardUI,{awardNum:this._award}),this._award=0},e}(c)).prototype,"onLineAward",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y)),o._RF.pop()}}})),System.register("chunks:///_virtual/OnlineAwardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label},function(t){c=t.BasicUI},function(t){u=t.EventTypes},function(t){l=t.StorageSystem},function(t){h=t.UIEnum},function(t){p=t.UISystem}],execute:function(){var f,d,m,v,y;o._RF.push({},"3e1d1pcDJJIErGRhOhTvP1F","OnlineAwardUI",void 0);var g=r.ccclass,b=r.property;t("OnlineAwardUI",(f=g("OnlineAwardUI"),d=b(a),f((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._hideCb=null,e.awardNum=0,n(e,"awardLabel",y,s(e)),e}i(e,t);var o=e.prototype;return o.show=function(e){t.prototype.show.call(this,e),this.setAward(e)},o.hide=function(e){t.prototype.hide.call(this,e)},o.onCloseClick=function(){var t=this;p.hideUI(h.OnlineAwardUI),l.setData((function(e){e.userAssets.asset+=Math.floor(t.awardNum)}),!0),l.updateToAssets(!0,!1)},o.onVidoClick=function(){var t=this;this.emit(u.SDKEvents.ShowVideo,(function(){p.hideUI(h.OnlineAwardUI),l.setData((function(e){e.userAssets.asset+=Math.floor(2*t.awardNum)}),!0),l.updateToAssets(!0,!1)}))},o.setAward=function(t){this.awardNum=t.awardNum||0,this.awardLabel.string=t.awardNum.toFixed(0)},e}(c)).prototype,"awardLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/PlayerAssetsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts","./AssetAnimCmp.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label,c=t.Node,u=t.v3,l=t.Vec3},function(t){h=t.BasicUI},function(t){p=t.EventTypes},function(t){f=t.AudioEnum},function(t){d=t.AudioSystem},function(t){m=t.StorageSystem},function(t){v=t.UIEnum},function(t){y=t.UISystem},function(t){g=t.AssetAnimCmp}],execute:function(){var b,S,w,I,A,C,_,T,E,L,D;o._RF.push({},"c4676U61jFDc7eCXkgL+hvd","PlayerAssetsUI",void 0);var U=r.ccclass,B=r.property;t("PlayerAssetsUI",(b=U("PlayerAssetsUI"),S=B(a),w=B(g),I=B(c),A=B(c),b((T=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"assetLabel",T,s(e)),n(e,"animCmp",E,s(e)),n(e,"animTarget",L,s(e)),n(e,"unit",D,s(e)),e.tmpP=u(),e}i(e,t);var o=e.prototype;return o.onEvents=function(){this.on(p.GameEvents.UserAssetsChanged,this.onUserAssetsChanged,this)},o.show=function(e){t.prototype.show.call(this,e),this.setAssetInfo()},o.setAssetInfo=function(){var t=m.getData().userAssets.asset;this.unit.children.forEach((function(t){t.active=!1}));var e=0;t<1e4?e=t:t<1e5?(e=Math.floor(t/1e3),this.unit.getChildByName("K").active=!0):t<1e5?(e=Math.floor(t/1e4),this.unit.getChildByName("M").active=!0):t<1e6&&(e=Math.floor(t/1e5),this.unit.getChildByName("G").active=!0),this.assetLabel.string=e.toFixed(0)},o.onUserAssetsChanged=function(t,e){var i=this;void 0===t&&(t=!1),void 0===e&&(e=!0),t?(this.tmpP.set(this.animTarget.position).add(this.animTarget.parent.position),this.animCmp.showAnim(l.ZERO,this.tmpP,e,(function(){i.setAssetInfo()}))):this.setAssetInfo()},o.onAddGoldBtnClick=function(){d.playEffect(f.BtnClick),y.showUI(v.FreeGoldUI)},e}(h)).prototype,"assetLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"animCmp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(_.prototype,"animTarget",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(_.prototype,"unit",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C)),o._RF.pop()}}})),System.register("chunks:///_virtual/PrivacyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node},function(t){c=t.BasicUI},function(t){u=t.EventTypes},function(t){l=t.StorageSystem},function(t){h=t.UIEnum},function(t){p=t.UISystem}],execute:function(){var f,d,m,v,y,g,b;o._RF.push({},"6d4bal0OfNAaZPJgnXYYiRv","PrivacyUI",void 0);var S=r.ccclass,w=r.property;t("PrivacyUI",(f=S("PrivacyUI"),d=w(a),m=w(a),f((g=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"closeBtn",g,s(e)),n(e,"btnLayer",b,s(e)),e}i(e,t);var o=e.prototype;return o.show=function(e){t.prototype.show.call(this),this.btnLayer.active=!e.isLobby,this.closeBtn.active=e.isLobby},o.onClose=function(){p.hideUI(h.PrivacyUI)},o.onCancel=function(){this.emit(u.SDKEvents.ExitApp)},o.onConfirm=function(){p.hideUI(h.PrivacyUI),l.setData((function(t){t.userSetting.showPrivacy=!1}),!0),this.emit(u.UIEvents.PrivacyConfirm)},e}(c)).prototype,"closeBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"btnLayer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)),o._RF.pop()}}})),System.register("chunks:///_virtual/RandomShowInsertCustomAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts","./SDKSystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Enum,c=t.Component},function(t){u=t.default},function(t){l=t.EventTypes},function(t){h=t.PlatformType,p=t.SDKSystem}],execute:function(){var f,d,m,v,y,g,b,S;o._RF.push({},"377b9R+2L9FXqG/DNAYatqm","RandomShowInsertCustomAd",void 0);var w=r.ccclass,I=r.property;t("RandomShowInsertCustomAd",(f=w("RandomShowInsertCustomAd"),d=I({type:a(h)}),f((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"instertRate",y,s(e)),n(e,"customAdId",g,s(e)),n(e,"delay",b,s(e)),n(e,"platformType",S,s(e)),e.curt=0,e.isFinish=!1,e}i(e,t);var o=e.prototype;return o.onEnable=function(){u.emit(l.SDKEvents.HideCustomAd),this.isFinish=!0,p._curPlatform==this.platformType&&(this.isFinish=!1,this.curt=0)},o.update=function(t){this.isFinish||(this.curt+=t,this.curt>=this.delay&&(this.isFinish=!0,Math.random()<this.instertRate?u.emit(l.SDKEvents.ShowInsertAd):u.emit(l.SDKEvents.ShowCustomAd,this.customAdId)))},o.onDisable=function(){u.emit(l.SDKEvents.HideCustomAd,this.customAdId)},e}(c)).prototype,"instertRate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),g=e(v.prototype,"customAdId",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(v.prototype,"delay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=e(v.prototype,"platformType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.WXMiniGame}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/ResurgenceUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./SDKSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Sprite,u=t.Label,l=t.clamp01},function(t){h=t.BasicUI},function(t){p=t.EventTypes},function(t){f=t.AudioEnum},function(t){d=t.AudioSystem},function(t){m=t.SDKSystem,v=t.PlatformType},function(t){y=t.StorageSystem},function(t){g=t.UIEnum},function(t){b=t.UISystem}],execute:function(){var S,w,I,A,C,_,T,E,L,D,U,B,P;o._RF.push({},"bed2aX4PEFJJoor3FWhd9Le","ResurgenceUI",void 0);var R=r.ccclass,k=r.property;t("ResurgenceUI",(S=R("ResurgenceUI"),w=k(a),I=k(a),A=k(a),C=k(c),_=k(u),S((L=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"videoBtn",L,s(e)),n(e,"shareBtn",D,s(e)),n(e,"shareBtn2",U,s(e)),e.isClickShare=!1,n(e,"progressSprite",B,s(e)),n(e,"timeLabel",P,s(e)),e._curt=0,e._isFinish=!1,e._secend=0,e}i(e,t);var o=e.prototype;return o.show=function(e){switch(t.prototype.show.call(this,e),m._curPlatform){case v.PCMiniGame:case v.TTMiniGame:this.initTT();break;case v.WXMiniGame:this.initWX()}},o.hide=function(e){t.prototype.hide.call(this,e)},o.update=function(t){},o.initWX=function(){this.videoBtn.active=!0,this.shareBtn.active=!1,this.shareBtn2.active=!1},o.initTT=function(){var t=y.getData().userAssets.shareResuergenceNum;this.videoBtn.active=!1,this.shareBtn.active=!1,this.shareBtn2.active=!1,t<3&&uniSdk.BrowersUtils.isAndroid()?Math.random()<.5?this.videoBtn.active=!0:(this.shareBtn.active=!0,this.shareBtn2.active=!0):(this.videoBtn.active=!0,this.shareBtn.active=!1,this.shareBtn2.active=!1),this.isClickShare=!1},o.onCloseClick=function(){d.playEffect(f.BtnClick),this._isFinish=!0,this.emit(p.RoleEvents.CanceResurgence),b.hideUI(g.ResurgenceUI)},o.onResurgenceClick=function(){var t=this;this._isFinish=!0,d.playEffect(f.BtnClick),this.emit(p.SDKEvents.ShowVideo,{success:function(){t.emit(p.RoleEvents.Resurgence),b.hideUI(g.ResurgenceUI)},fail:function(){t._isFinish=!1,t.emit(p.GameEvents.GamePause)},cancel:function(){t._isFinish=!1,t.emit(p.GameEvents.GamePause)}},3)},o.shareBtnClick=function(){var t=this;this.isClickShare||(this.isClickShare=!0,console.log("点击分享"),this.emit(p.SDKEvents.StopRecord),setTimeout((function(){t.isClickShare=!1,t.emit(p.SDKEvents.ShareRecord,(function(){y.setData((function(t){return t.userAssets.shareResuergenceNum++,t}),!0),t.emit(p.SDKEvents.StartRecord),t.emit(p.RoleEvents.Resurgence),b.hideUI(g.ResurgenceUI)}))}),100))},o.resetTime=function(){this._curt=5.99,this._secend=5,this._isFinish=!1,this.timeLabel.string="5",this.progressSprite.fillRange=1},o.updateTime=function(t){if(!this._isFinish){this._curt-=t;var e=Math.floor(this._curt);e<=0?(this._isFinish=!0,this.onFinish()):(this._secend!=e&&(this._secend=e,this.timeLabel.node.active=!1,this.timeLabel.node.active=!0,console.log("_secend: ",e)),this.timeLabel.string=this._secend.toFixed(0)),this.progressSprite.fillRange=l(this._secend/5)}},o.onFinish=function(){b.hideUI(g.ResurgenceUI),this.emit(p.RoleEvents.CanceResurgence)},e}(h)).prototype,"videoBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"shareBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(E.prototype,"shareBtn2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(E.prototype,"progressSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"timeLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=E))||T)),o._RF.pop()}}})),System.register("chunks:///_virtual/RoleInfoCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEnum.ts","./GlobalTmpData.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Label,c=t.v3,u=t.Component},function(t){l=t.default},function(t){h=t.GlobalEnum},function(t){p=t.GlobalTmpData}],execute:function(){var f,d,m,v,y;o._RF.push({},"be32bsYAoxLU6UNINR/zviT","RoleInfoCmp",void 0);var g=r.ccclass,b=r.property;t("RoleInfoCmp",(f=g("RoleInfoCmp"),d=b(a),f((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).cameraUI=null,n(e,"roleLabel",y,s(e)),e.tmpP=c(),e}i(e,t);var o=e.prototype;return o.onEnable=function(){this.cameraUI=l.get(h.GlobalDataType.Camera3D)},o.update=function(t){this.setRoleInfo()},o.setRoleInfo=function(){p.Player.isPathEnd?this.tmpP.set(p.Player.wpos):this.tmpP.set(p.Player.wpos).add(p.Player.offset),this.tmpP.y+=3,this.cameraUI.convertToUINode(this.tmpP,this.node,this.tmpP),this.roleLabel.string=p.normalRoleNum.toFixed(0),this.roleLabel.node.setPosition(this.tmpP)},e}(u)).prototype,"roleLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/RotateCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.v3,c=t.Component}],execute:function(){var u,l,h;o._RF.push({},"9d694Rir6RE24IGSFd7sQ2G","RotateCmp",void 0);var p=r.ccclass,f=r.property;r.executeInEditMode,t("RotateCmp",p("RotateCmp")((h=e((l=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"angleSpd",h,s(e)),e._tmpV3=a(),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){this._tmpV3.set(this.node.eulerAngles),this._tmpV3.z+=this.angleSpd*t,this.node.eulerAngles=this._tmpV3},e}(c)).prototype,"angleSpd",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-180}}),u=l))||u),o._RF.pop()}}})),System.register("chunks:///_virtual/SettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./AudioEnum.ts","./AudioSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.v3},function(t){u=t.BasicUI},function(t){l=t.AudioEnum},function(t){h=t.AudioSystem},function(t){p=t.StorageSystem},function(t){f=t.UIEnum},function(t){d=t.UISystem}],execute:function(){var m,v,y,g,b,S,w,I;o._RF.push({},"47593V66DxPwoLhA1wSf/tK","SettingUI",void 0);var A,C=r.ccclass,_=r.property;!function(t){t[t.Voice=0]="Voice",t[t.Shake=1]="Shake"}(A||(A={}));var T=function(){function t(t,e){this.close=null,this.open=null,this.bar=null,this.isOpen=!1,this.offsetX=0,this.tmpP=c(),this.offsetX=e,this.close=t.getChildByName("close"),this.open=t.getChildByName("open"),this.bar=t.getChildByName("bar"),this.setState(!1)}var e=t.prototype;return e.setState=function(t){void 0===t&&(t=!1),this.isOpen=t,this.close.active=!t,this.open.active=t,this.bar.setPosition(this.tmpP.set(t?-this.offsetX:this.offsetX))},e.changeState=function(){return this.setState(!this.isOpen),this.isOpen},t}();t("SettingUI",(m=C("SettingUI"),v=_(a),y=_(a),m((S=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"voiceSwith",S,s(e)),n(e,"shakeSwith",w,s(e)),n(e,"offsetX",I,s(e)),e._switchRecs=null,e}i(e,t);var o=e.prototype;return o.initSwith=function(){this._switchRecs||(this._switchRecs={},this._switchRecs[A.Voice]=new T(this.voiceSwith,this.offsetX),this._switchRecs[A.Shake]=new T(this.shakeSwith,this.offsetX));var t=p.getData();this._switchRecs[A.Voice].setState(t.userSetting.AudioSwith),this._switchRecs[A.Shake].setState(t.userSetting.ShakeSwith)},o.show=function(e){t.prototype.show.call(this,e),this.initSwith()},o.onVoiceClick=function(){h.playEffect(l.BtnClick);var t=this._switchRecs[A.Voice].changeState();h.setAudioState(t),p.setData((function(e){e.userSetting.AudioSwith=t}),!0)},o.onShakeClick=function(){h.playEffect(l.BtnClick);var t=this._switchRecs[A.Shake].changeState();p.setData((function(e){e.userSetting.ShakeSwith=t}),!0)},o.onCloseClick=function(){h.playEffect(l.BtnClick),d.hideUI(f.SettingUI)},e}(u)).prototype,"voiceSwith",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(b.prototype,"shakeSwith",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(b.prototype,"offsetX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),g=b))||g)),o._RF.pop()}}})),System.register("chunks:///_virtual/ShopItem.ts",["cc","./GlobalEnum.ts","./EventManager.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.color,s=t.Node,o=t.Sprite,r=t.Label},function(t){a=t.GlobalEnum},function(t){c=t.default},function(t){u=t.EventTypes},function(t){l=t.StorageSystem},function(t){h=t.UIEnum},function(t){p=t.UISystem}],execute:function(){var f;e._RF.push({},"3afe0/Kp/9OV7ARPcmixG5X","ShopItem",void 0);var d=i.ccclass;i.property,t("ShopItem",d("ShopItem")(f=function(){function t(t,e,i){this.node=null,this.type=null,this.cost=0,this.chooseMark=null,this.display=null,this.displaySf=null,this.costBtn=null,this.costLabel=null,this.videoBtn=null,this.lock=null,this.lockLv=null,this.isChoosed=!1,this.isUnLock=!1,this.isDisplay=!1,this.shopUI=null,this.node=t,this.shopUI=i,this.chooseMark=this.node.getChildByName("chooseMark"),this.display=this.node.getChildByName("display"),this.displaySf=this.display.getComponentInChildren(o),this.costBtn=this.node.getChildByName("costBtn"),this.costLabel=this.costBtn.getComponentInChildren(r),this.videoBtn=this.node.getChildByName("videoBtn"),this.lock=this.node.getChildByName("lock"),this.lockLv=this.lock.getComponentInChildren(r),this.displaySf.spriteFrame=e,this.onEvents()}var e=t.prototype;return e.init=function(t,e){this.type=t,this.cost=e,this.costLabel.string=e.toFixed(0),this.setChooseMark(!1)},e.reset=function(){this.offEvents()},e.refreshData=function(t,e,i){void 0===i&&(i=0),this.isUnLock=t,this.isDisplay=e,this.lock.active=!e,this.lockLv.string=i.toFixed(0),this.videoBtn.active=this.isDisplay&&!this.isUnLock,this.costBtn.active=!1,this.displaySf.color=n().fromHEX(t?"#FFFFFF":"#000000")},e.onEvents=function(){this.costBtn.on(s.EventType.TOUCH_END,this.onBuyClick,this),this.videoBtn.on(s.EventType.TOUCH_END,this.onVideoClick,this),this.display.on(s.EventType.TOUCH_START,this.onChoosedClick,this)},e.offEvents=function(){this.costBtn.off(s.EventType.TOUCH_END,this.onBuyClick,this),this.videoBtn.off(s.EventType.TOUCH_END,this.onVideoClick,this),this.display.off(s.EventType.TOUCH_START,this.onChoosedClick,this)},e.setChooseMark=function(t){this.isChoosed=t,this.chooseMark.active=t},e.onChoosedClick=function(){var t=this;this.shopUI.chooseItem(this.type),this.isUnLock&&l.getData().userAssets.chooseWeapon!=this.type&&this.type!=a.WeaponType.Drone&&(l.setData((function(e){return e.userAssets.chooseWeapon=t.type,e}),!0),c.emit(u.RoleEvents.SetWeapon,this.type))},e.unlockItem=function(){var t=this;this.isUnLock=!0,l.setData((function(e){return e.userAssets.unlockGoods.indexOf(t.type)<0&&(e.userAssets.unlockGoods.push(t.type),t.type==a.WeaponType.Drone&&c.emit(u.CurLevelEvents.CreateDrones)),e.userAssets.displayGoods.indexOf(t.type)<0&&e.userAssets.displayGoods.push(t.type),e}),!0),this.costBtn.active=!1,this.videoBtn.active=!1},e.onBuyClick=function(){var t=this;if(l.getData().userAssets.asset<this.cost)return c.emit(u.GameEvents.ShowTips,"钱不够哦!"),void p.showUI(h.FreeGoldUI);this.unlockItem(),l.setData((function(e){return e.userAssets.asset-=t.cost,e}),!0),l.updateToAssets(!1),this.onChoosedClick(),this.shopUI.setShopData()},e.onVideoClick=function(){var t=this;c.emit(u.SDKEvents.ShowVideo,(function(){c.emit(u.GameEvents.GameResume),t.unlockItem(),t.shopUI.setShopData()}),1),this.onChoosedClick()},t}())||f),e._RF.pop()}}})),System.register("chunks:///_virtual/ShopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalConfig.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts","./Loader.ts","./ShopItem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Prefab,c=t.Node,u=t.instantiate,l=t.SpriteFrame},function(t){h=t.BasicUI},function(t){p=t.GlobalConfig},function(t){f=t.EventTypes},function(t){d=t.AudioEnum},function(t){m=t.AudioSystem},function(t){v=t.StorageSystem},function(t){y=t.UIEnum},function(t){g=t.UISystem},function(t){b=t.default},function(t){S=t.ShopItem}],execute:function(){var w,I,A,C,_,T,E;o._RF.push({},"dafa76sXLFFib0YPRoCAjtY","ShopUI",void 0);var L=r.ccclass,D=r.property;t("ShopUI",(w=L("ShopUI"),I=D(a),A=D(c),w((T=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"itemPrefab",T,s(e)),n(e,"content",E,s(e)),e.hideCb=null,e.shopData=null,e.assets=null,e}i(e,t);var o=e.prototype;return o.show=function(e){var i=this;t.prototype.show.call(this,e),e&&(this.hideCb=e.hideCb),this.loadRes((function(){i.setShopData()})),this.emit(f.CurLevelEvents.ShowHomeCamera,!0)},o.hide=function(e){t.prototype.hide.call(this,e),this.hideCb&&this.hideCb(),this.emit(f.CurLevelEvents.ShowHomeCamera,!1)},o.onCloseClick=function(){m.playEffect(d.BtnClick),g.hideUI(y.ShopUI)},o.setShopData=function(){var t=v.getData().userAssets,e=t.unlockGoods,i=t.displayGoods,n=t.unlockLvRec,s=t.chooseWeapon;if(!this.shopData){this.shopData={};var o=p.GoodsCfg.Weapon;for(var r in o){var a=o[r],c=+r,l=u(this.itemPrefab);l.parent=this.content;var h=new S(l,this.assets[r],this);h.init(c,a),this.shopData[c]=h}}var f=0;for(var d in this.shopData){var m=this.shopData[d],y=+d,g=e.indexOf(y)>=0,b=i.indexOf(y)>=0;y==n.curId&&n.curLv,m.refreshData(g,b,3*f),f++}this.chooseItem(s)},o.resetShopData=function(){},o.chooseItem=function(t){for(var e in this.shopData){var i=this.shopData[e];i&&i.setChooseMark(t==i.type)}},o.loadRes=function(t){var e=this;this.assets?t&&t():(this.assets={},b.loadBundleDir("UI","Assets/Images/ShopUI/goods",(function(i){for(var n=0;n<i.length;n++){var s=i[n];e.assets[s.name]=s}t&&t()}),l,!1))},e}(h)).prototype,"itemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"content",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C)),o._RF.pop()}}})),System.register("chunks:///_virtual/ShowCustomAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.CCInteger,c=t.Component},function(t){u=t.default},function(t){l=t.EventTypes}],execute:function(){var h,p,f,d,m;o._RF.push({},"66539Zhk61N85+bszmls4R2","ShowCustomAd",void 0);var v=r.ccclass,y=r.property;t("ShowCustomAd",(h=v("ShowCustomAd"),p=y({type:a,step:1}),h((m=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"adIdArr",m,s(e)),e}i(e,t);var o=e.prototype;return o.onEnable=function(){u.emit(l.SDKEvents.HideCustomAd),console.log("ShowCustomAd:"),this.adIdArr.forEach((function(t){u.emit(l.SDKEvents.ShowCustomAd,t)}))},o.onDisable=function(){console.log("HideCustomAd:"),this.adIdArr.forEach((function(t){u.emit(l.SDKEvents.HideCustomAd,t)}))},e}(c)).prototype,"adIdArr",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f)),o._RF.pop()}}})),System.register("chunks:///_virtual/ShowCustomAdCallBack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.CCInteger,c=t.Node,u=t.Component},function(t){l=t.default},function(t){h=t.EventTypes}],execute:function(){var p,f,d,m,v,y,g;o._RF.push({},"1adb6LzGmZGprbk2YrN4pAr","ShowCustomAdCallBack",void 0);var b=r.ccclass,S=r.property;t("ShowCustomAdCallBack",(p=b("ShowCustomAdCallBack"),f=S({type:a,step:1}),d=S(c),p((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"adIdArr",y,s(e)),n(e,"replaceAdArr",g,s(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.replaceAdArr.forEach((function(t){t.active=!1}))},o.onEnable=function(){var t=this;this.replaceAdArr.forEach((function(t){t.active=!1})),l.emit(h.SDKEvents.HideCustomAd),console.log("ShowCustomAd:");for(var e=function(e){var i=t.adIdArr[e];l.emit(h.SDKEvents.ShowCustomAd,i,{fail:function(){console.log("原生显示失败,显示自定义导出"),t.replaceAdArr[e]&&(t.replaceAdArr[e].active=!0)}})},i=0;i<this.adIdArr.length;i++)e(i)},o.onDisable=function(){console.log("HideCustomAd:"),this.adIdArr.forEach((function(t){l.emit(h.SDKEvents.HideCustomAd,t)}))},e}(u)).prototype,"adIdArr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(v.prototype,"replaceAdArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/ShowInsertCallBack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Component},function(t){c=t.default},function(t){u=t.EventTypes}],execute:function(){var l,h,p;o._RF.push({},"8d9ac/R1EJGOrHCj8quy8NC","ShowInsertCallBack",void 0);var f=r.ccclass,d=r.property;t("ShowInsertCallBack",f("ShowInsertCallBack")((p=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"customAdId",p,s(e)),e._isReplace=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){},o.onEnable=function(){var t=this;this._isReplace=!1,c.emit(u.SDKEvents.HideCustomAd),c.emit(u.SDKEvents.ShowInsertAd,{fail:function(){console.log("## 显示插屏失败 ,尝试显示原生"),t._isReplace=!0,c.emit(u.SDKEvents.HideCustomAd),c.emit(u.SDKEvents.ShowCustomAd,t.customAdId)}})},o.onDisable=function(){this._isReplace&&c.emit(u.SDKEvents.HideCustomAd,this.customAdId),this._isReplace=!1},e}(a)).prototype,"customAdId",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=h))||l),o._RF.pop()}}})),System.register("chunks:///_virtual/SignUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalConfig.ts","./GlobalEnum.ts","./EventManager.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.UIOpacity,u=t.Label},function(t){l=t.BasicUI},function(t){h=t.GlobalConfig},function(t){p=t.GlobalEnum},function(t){f=t.default},function(t){d=t.EventTypes},function(t){m=t.AudioEnum},function(t){v=t.AudioSystem},function(t){y=t.StorageSystem},function(t){g=t.UIEnum},function(t){b=t.UISystem}],execute:function(){var S,w,I,A,C,_,T,E,L;o._RF.push({},"b1ecapcUvZOVpD22wctJYof","SignUI",void 0);var D=r.ccclass,U=r.property,B=(t("SignUI",(S=D("SignUI"),w=U(a),I=U(a),A=U(a),S((T=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._hideCb=null,n(e,"normalBtn",T,s(e)),n(e,"videoBtn",E,s(e)),n(e,"signItems",L,s(e)),e._items=[],e}i(e,t);var o=e.prototype;return o.show=function(e){e&&e.hideCb&&(this._hideCb=e.hideCb),t.prototype.show.call(this,e),this.setItems(),this.showNativeAd()},o.hide=function(e){t.prototype.hide.call(this,e),this._hideCb&&this._hideCb(),this._hideCb=null},o.onCloseClick=function(){v.playEffect(m.BtnClick),b.hideUI(g.SignUI)},o.onVideoClick=function(){var t=this;v.playEffect(m.BtnClick),this.emit(d.SDKEvents.ShowVideo,(function(){for(var e=0;e<t._items.length;e++){var i=t._items[e];if(i.isChoose||i.isGet&&!i.isVideoGet){i.onClick(!0);break}}y.setData((function(t){return t.userAssets.isDoubleSign=!0,t}),!0),t.normalBtn.active=!1,t.videoBtn.active=!1}))},o.onNormalClick=function(){v.playEffect(m.BtnClick);for(var t=0;t<this._items.length;t++){var e=this._items[t];if(e.isChoose){e.onClick(!1);break}}this.normalBtn.active=!1},o.setItems=function(){if(this._items.length<=0)for(var t=0;t<this.signItems.children.length;t++){var e=this.signItems.children[t],i=new B(e,t,h.SignCfg[t]);this._items.push(i)}var n=y.getData().userAssets,s=n.signData,o=s.count,r=new Date(s.lastTime),a=new Date,c=r.getFullYear()==a.getFullYear()&&r.getMonth()==a.getMonth()&&r.getDate()==a.getDate();c||y.setData((function(t){return t.userAssets.isDoubleSign=!1,t})),this.normalBtn.active=!c,this.videoBtn.active=!n.isDoubleSign;var u=n.isDoubleSign,l=o%7;if(c&&6==l)for(var p=0;p<this._items.length;p++)this._items[p].setData(!0,u,!1);else{6==l&&(l=-1);for(var f=0;f<this._items.length;f++){var d=this._items[f];if(f<=l)d.setData(!0,u,!1);else{var m=f==l+1&&!c;d.setData(!1,u,m)}}}},o.showNativeAd=function(){},e}(l)).prototype,"normalBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"videoBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(_.prototype,"signItems",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C)),t("SignItem",function(){function t(t,e,i){this.node=null,this.chooseMark=null,this.getMark=null,this.awardLabel=null,this.awardOpacity=null,this.isVideoGet=!1,this.isGet=!1,this.isChoose=!1,this.awardNum=0,this.awardType=0,this.dayId=0,this.node=t,this.chooseMark=t.getChildByName("chooseMark"),this.getMark=t.getChildByName("getMark"),this.awardOpacity=t.getChildByName("award").getComponent(c),this.awardLabel=t.getChildByName("award").getComponentInChildren(u),this.awardNum=i.awardNum,this.awardType=i.type,this.dayId=e,this.awardLabel.string=i.awardNum.toFixed(0)}var e=t.prototype;return e.setData=function(t,e,i){this.isChoose=i,this.isGet=t,this.isVideoGet=e,this.chooseMark.active=this.isChoose,this.getMark.active=this.isGet,this.awardOpacity.opacity=this.isGet?200:255},e.onClick=function(t){var e=this;if(!this.isGet&&this.isChoose||t&&this.isGet&&!this.isVideoGet&&!this.isChoose){this.awardNum*=t?2:1;var i=1e3;switch(this.awardType){case p.AwardType.Asset:y.setData((function(t){t.userAssets.asset+=e.awardNum;var i=t.userAssets.signData.count+1;t.userAssets.signData.count=i,t.userAssets.signData.lastTime=Date.now()}),!0),y.updateToAssets(!0,!0);break;case p.AwardType.Tip:y.setData((function(t){t.userAssets.tipNum+=e.awardNum;var i=t.userAssets.signData.count+1;t.userAssets.signData.count=i,t.userAssets.signData.lastTime=Date.now()}),!0),f.emit(d.GameEvents.ShowTips,"恭喜获得"+this.awardNum+"现金!"),i=500;break;case p.AwardType.Skin:y.setData((function(t){t.userAssets.skin.unlock.indexOf(1)<0&&t.userAssets.skin.unlock.push(1),t.userAssets.skin.choose=1;var e=t.userAssets.signData.count+1;t.userAssets.signData.count=e,t.userAssets.signData.lastTime=Date.now()}),!0),i=200,f.emit(d.GameEvents.ShowTips,"恭喜获得新皮肤!")}this.isChoose=!1,this.isGet=!0,this.isVideoGet=t,this.chooseMark.active=!1,this.getMark.active=!0,this.awardOpacity.opacity=200,setTimeout((function(){b.hideUI(g.SignUI)}),i)}},t}()));o._RF.pop()}}})),System.register("chunks:///_virtual/TipAnimCmp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Component},function(t){u=t.default},function(t){l=t.EventTypes}],execute:function(){var h,p,f,d,m;o._RF.push({},"6d682GNjnZNSZ6ApkMMV5eC","TipAnimCmp",void 0);var v=r.ccclass,y=r.property;t("TipAnimCmp",(h=v("TipAnimCmp"),p=y(a),h((m=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"animNode",m,s(e)),e._isTouched=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.animNode.active=!1,u.on(l.GuideEvents.ShowGuideAnim,this.onShowGuideAnim,this),u.on(l.TouchEvents.TouchStart,this.onTouchStart,this)},o.onEnable=function(){},o.onShowGuideAnim=function(){this.animNode.active=!this._isTouched},o.onTouchStart=function(){this.animNode.active&&(this.animNode.active=!1,this._isTouched=!0)},e}(c)).prototype,"animNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f)),o._RF.pop()}}})),System.register("chunks:///_virtual/TTRecorder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventTypes.ts","./SDKSystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.UIOpacity,u=t.Tween,l=t.tween,h=t.Component},function(t){p=t.default},function(t){f=t.EventTypes},function(t){d=t.SDKSystem,m=t.PlatformType}],execute:function(){var v,y,g,b,S,w,I,A,C;o._RF.push({},"e46276KxWlNpJgrt16RXFEW","TTRecorder",void 0);var _=r.ccclass,T=r.property;t("TTRecorder",(v=_("TTRecorder"),y=T(a),g=T(a),b=T(c),v((I=e((w=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"runNode",I,s(e)),n(e,"pauseNode",A,s(e)),n(e,"redPointOpacity",C,s(e)),e.isShow=!1,e.curt=0,e._opacityAnim={o:255},e}i(e,t);var o=e.prototype;return o.onLoad=function(){d._curPlatform==m.PCMiniGame||d._curPlatform==m.TTMiniGame?this.isShow=!0:this.isShow=!1,this.node.active=!1,p.on(f.GameEvents.GameRun,this.onGameRun,this),p.on(f.GameEvents.GameOver,this.onGameOver,this),p.on(f.GameEvents.GamePause,this.onRecordPause,this),p.on(f.GameEvents.GameResume,this.onRunClick,this)},o.onEnable=function(){this.curt=0,this.onRunClick(),this.showRedPoinAnim()},o.onRunClick=function(){this.runNode.active=!0,this.pauseNode.active=!1,p.emit(f.SDKEvents.ResumeRecord)},o.onGameRun=function(){this.isShow&&(this.node.active=!0)},o.onGameOver=function(){this.node.active=!1},o.onPauseClick=function(){this.onRecordPause(),this.curt<3&&p.emit(f.GameEvents.ShowTips,"录屏时间少于3秒")},o.onRecordPause=function(){this.runNode.active=!1,this.pauseNode.active=!0,p.emit(f.SDKEvents.PauseRecord)},o.showRedPoinAnim=function(){u.stopAllByTarget(this._opacityAnim),this._opacityAnim.o=255,this.redPointOpacity.opacity=this._opacityAnim.o,l(this._opacityAnim).repeatForever(l(this._opacityAnim).to(.3,{o:0}).to(.3,{o:255})).start()},o.update=function(t){this.redPointOpacity.node.active&&(this.redPointOpacity.opacity=this._opacityAnim.o,this.curt+=t)},e}(h)).prototype,"runNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(w.prototype,"pauseNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"redPointOpacity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S)),o._RF.pop()}}})),System.register("chunks:///_virtual/TurntableUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalConfig.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,c=t.Button,u=t.Label,l=t.v3,h=t.Tween,p=t.tween},function(t){f=t.BasicUI},function(t){d=t.GlobalConfig},function(t){m=t.EventTypes},function(t){v=t.StorageSystem},function(t){y=t.UIEnum},function(t){g=t.UISystem}],execute:function(){var b,S,w,I,A,C,_,T,E,L,D,U,B;t("TableAwardType",void 0),o._RF.push({},"d6fe5kVtK9Jl4qU6PccqUrb","TurntableUI",void 0);var P,R=r.ccclass,k=r.property;t("TurntableUI",(b=R("TurntableUI"),S=k(a),w=k(a),I=k(a),A=k(c),C=k(u),b((E=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"turnPanel",E,s(e)),n(e,"table",L,s(e)),n(e,"runBtn",D,s(e)),n(e,"hideBtns",U,s(e)),n(e,"tipLabel",B,s(e)),e._ang=l(),e._labelArr=[],e._cfg=[],e}i(e,t);var o=e.prototype;return o.onLoad=function(){},o.show=function(e){t.prototype.show.call(this,e),this.initTable(),this.setTable()},o.hide=function(e){t.prototype.hide.call(this,e)},o.onCloseClick=function(){g.hideUI(y.TurntableUI)},o.onRunTableClick=function(){var t=this;v.getData().userAssets.turntableNum<=0?this.emit(m.SDKEvents.ShowVideo,(function(){t.runTableAnim()})):(v.setData((function(t){t.userAssets.turntableNum--}),!0),this.runTableAnim()),this.checkFreeNum()},o.initTable=function(){if(0==this._cfg.length){var t=0;for(var e in G)this._cfg[t]=G[e].rate,t++}if(0==this._labelArr.length)for(var i=this.table.getComponentsInChildren(u),n=0;n<i.length;n++)i[n].string=G[n].val;this.checkFreeNum(),this.hideBtns.forEach((function(t){t.enabled=!0}))},o.setTable=function(){this.turnPanel.eulerAngles=this._ang},o.checkFreeNum=function(){var t=v.getData();this.runBtn.getChildByName("videoIco").active=t.userAssets.turntableNum<=0},o.getRandItemId=function(){for(var t=[],e=0;e<this._cfg.length;e++)t.push({id:e,rate:this._cfg[e]});t.sort((function(t,e){return t.rate-e.rate}));for(var i=0,n=Math.random(),s=0,o=0;o<t.length;o++){var r=t[o];if(n<=(i+=r.rate)){s=r.id;break}}return console.log("====转盘奖励:"+s+" "+G[s].val),s},o.runTableAnim=function(t){var e=this;this.hideBtns.forEach((function(t){t.enabled=!1})),null==t&&(t=this.getRandItemId()),h.stopAllByTarget(this._ang);var i=this.turnPanel.eulerAngles.z;i=(i+360)%360,this._ang.set(0,0,i);var n=-(45*t+22.5);n+=2880,p(this._ang).to(3,{z:n},{easing:"sineInOut",onUpdate:function(){e.turnPanel.eulerAngles=e._ang}}).call((function(){e.runFinished(t)})).start()},o.runFinished=function(t){this.hideBtns.forEach((function(t){t.enabled=!0}));var e=G[t].val,i=v.getData().userAssets.props.GoldRateLv,n=d.RolePropCfg.getGoldRateByLv(i);e=Math.floor(e*n),g.showUI(y.AwardUI,{awardNum:e})},e}(f)).prototype,"turnPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"table",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"runBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"hideBtns",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(T.prototype,"tipLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=T))||_)),function(t){t[t.Times=0]="Times",t[t.Gold=1]="Gold"}(P||(P=t("TableAwardType",{})));var G=t("TurntableCfg",{0:{awardType:1,val:1e3,rate:.15},1:{awardType:1,val:2e3,rate:0},2:{awardType:1,val:500,rate:.16},3:{awardType:1,val:1500,rate:.1},4:{awardType:1,val:2e3,rate:.05},5:{awardType:1,val:500,rate:.16},6:{awardType:1,val:2e3,rate:0},7:{awardType:1,val:500,rate:.38}});o._RF.pop()}}})),System.register("chunks:///_virtual/UI",["./AwardUI.ts","./DelayShowCustom.ts","./DelayShowInsert.ts","./DelayShowVideoIco.ts","./ExchangeBtns.ts","./RandomShowInsertCustomAd.ts","./ShowCustomAd.ts","./ShowCustomAdCallBack.ts","./WxDelayShowBtn.ts","./LoopScaleAnim.ts","./RotateCmp.ts","./FireWorkUI.ts","./CustomAdUI.ts","./CustomList.ts","./ModelGrid1x1.ts","./ModelHorizon.ts","./ModelVertical.ts","./customGrid1X1.ts","./FakeLevelAdUI.ts","./FinishAwardBoxUI.ts","./FreeEnergyUI.ts","./AutoCheck.ts","./GuideFingerAnim.ts","./HomeFingerAnim.ts","./HomeLoadBg.ts","./HomeUI.ts","./LvupPropCmp.ts","./OnlineAwardCmp.ts","./JoyCmp.ts","./LevelController.ts","./TipAnimCmp.ts","./BtnsLayer.ts","./Effect2dLayer.ts","./GoldTipLayer.ts","./LevelInfoUI.ts","./RoleInfoCmp.ts","./TTRecorder.ts","./fingerClickCmp.ts","./LoseUI.ts","./OnlineAwardUI.ts","./AssetAnimCmp.ts","./CheckTimeCmp.ts","./CutEnergyAnim.ts","./PlayerAssetsUI.ts","./PrivacyUI.ts","./ResurgenceUI.ts","./ShowInsertCallBack.ts","./SettingUI.ts","./ShopItem.ts","./ShopUI.ts","./SignUI.ts","./TurntableUI.ts","./UnlockPopUI.ts","./AwardProgressCmp.ts","./MoveVideoCmp.ts","./WinUI.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}})),System.register("chunks:///_virtual/UnlockPopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./EventTypes.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Sprite},function(t){c=t.BasicUI},function(t){u=t.EventTypes},function(t){l=t.StorageSystem},function(t){h=t.UIEnum},function(t){p=t.UISystem}],execute:function(){var f,d,m,v,y;o._RF.push({},"f5c6fWDItpLcJjxqLNoVtzy","UnlockPopUI",void 0);var g=r.ccclass,b=r.property;t("UnlockPopUI",(f=g("UnlockPopUI"),d=b(a),f((y=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"display",y,s(e)),e.type=0,e}i(e,t);var o=e.prototype;return o.show=function(e){t.prototype.show.call(this,e),this.display.spriteFrame=e.sf,this.type=e.type},o.onCloseClick=function(){p.hideUI(h.UnlockPopUI)},o.onVidoClick=function(){var t=this;this.emit(u.SDKEvents.ShowVideo,(function(){l.setData((function(e){return e.userAssets.unlockGoods.indexOf(t.type)<0&&e.userAssets.unlockGoods.push(t.type),e.userAssets.displayGoods.indexOf(t.type)<0&&e.userAssets.displayGoods.push(t.type),e.userAssets.chooseWeapon=t.type,e}),!0),p.hideUI(h.UnlockPopUI)}))},e}(c)).prototype,"display",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)),o._RF.pop()}}})),System.register("chunks:///_virtual/WinUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasicUI.ts","./GlobalConfig.ts","./GlobalTmpData.ts","./EventManager.ts","./EventTypes.ts","./AudioEnum.ts","./AudioSystem.ts","./SDKSystem.ts","./StorageSystem.ts","./UIEnum.ts","./UISystem.ts","./MoveVideoCmp.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,p,f,d,m,v,y,g,b,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node},function(t){c=t.BasicUI},function(t){u=t.GlobalConfig},function(t){l=t.GlobalTmpData},function(t){h=t.default},function(t){p=t.EventTypes},function(t){f=t.AudioEnum},function(t){d=t.AudioSystem},function(t){m=t.SDKSystem,v=t.PlatformType},function(t){y=t.StorageSystem},function(t){g=t.UIEnum},function(t){b=t.UISystem},function(t){S=t.MoveVideoCmp}],execute:function(){var w,I,A,C,_,T,E;o._RF.push({},"2e8e8HGtWJPvrZ1TAfS1Ddq","WinUI",void 0);var L=r.ccclass,D=r.property;t("WinUI",(w=L("WinUI"),I=D(S),A=D(a),w((T=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"moveVideoCmp",T,s(e)),e._awardNum=0,n(e,"shareBtn",E,s(e)),e.count=0,e}i(e,t);var o=e.prototype;return o.show=function(){t.prototype.show.call(this),b.hideUI(g.LevelInfoUI),d.playEffect(f.Win),this.showAwards(),this.showAd(),this.shareBtn&&(this.shareBtn.active=m._curPlatform==v.TTMiniGame),this.showPopAwardUI()},o.showAwards=function(){var t=y.getData(),e=t.userAssets.props.GoldRateLv,i=u.RolePropCfg.getGoldRateByLv(e);this._awardNum=Math.floor((u.Award.WinAward+(t.levelAssets.curLv-1)*u.Award.WinLvStep)*i),this.moveVideoCmp.setData(this._awardNum)},o.saveAwards=function(){var t=this;this._awardNum>0&&(y.setData((function(e){e.userAssets.asset+=t._awardNum}),!0),y.updateToAssets(!0,!0)),b.hideUI(g.WinUI),this.emit(p.GameEvents.SetLevelManagerEnable,!1),b.showUI(g.HomeUI)},o.onVideoClick=function(){var t=this;this.moveVideoCmp.stopMove(),this.emit(p.SDKEvents.ShowVideo,{success:function(){t._awardNum*=t.moveVideoCmp.curAwardRate,t.onCloseClick()},fail:function(){t.moveVideoCmp.resumeMove()},cancel:function(){t.moveVideoCmp.resumeMove()}})},o.onCloseClick=function(){this.saveAwards()},o.onShareClick=function(){var t=this;h.emit(p.SDKEvents.ShareRecord,(function(){t.shareBtn.active=!1}))},o.showPopAwardUI=function(){switch(this.count++,l.UIData.isShowTurnTableUI=!1,m._curPlatform){case v.WXMiniGame:this.count%3==0&&(l.UIData.isShowTurnTableUI=!0);break;case v.TTMiniGame:this.count%2==0&&(l.UIData.isShowTurnTableUI=!0)}},o.showAd=function(){},e}(c)).prototype,"moveVideoCmp",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"shareBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C)),o._RF.pop()}}})),System.register("chunks:///_virtual/WxDelayShowBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDKSystem.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Button,c=t.UIOpacity,u=t.Component},function(t){l=t.SDKSystem,h=t.PlatformType}],execute:function(){var p,f,d;o._RF.push({},"b992dO5wClM8LrzsgJ46uAl","WxDelayShowBtn",void 0);var m=r.ccclass,v=r.property;t("WxDelayShowBtn",m("WxDelayShowBtn")((d=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).isDelay=!1,n(e,"delay",d,s(e)),e.delayId=null,e.uiOpacity=null,e.btn=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.isDelay=l._curPlatform==h.WXMiniGame||l._curPlatform==h.PCMiniGame,this.btn=this.node.getComponent(a),this.uiOpacity=this.node.getComponent(c),this.uiOpacity||(this.uiOpacity=this.node.addComponent(c),this.uiOpacity.opacity=255)},o.onEnable=function(){var t=this;clearTimeout(this.delayId),this.isDelay?(this.setEnable(!1),this.delayId=setTimeout((function(){t.setEnable(!0)}),1e3*this.delay)):this.setEnable(!0)},o.onDisable=function(){clearTimeout(this.delayId)},o.setEnable=function(t){this.uiOpacity.opacity=t?255:0,this.btn.interactable=t},e}(u)).prototype,"delay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=f))||p),o._RF.pop()}}})),t="virtual:///prerequisite-imports/UI",e="chunks:///_virtual/UI",System.register(t,[e],(function(t,e){return{setters:[function(e){var i={};for(var n in e)"default"!==n&&"__esModule"!==n&&(i[n]=e[n]);t(i)}],execute:function(){}}})); 
 			}); 	require("subpackages/UI/game.js");
 	